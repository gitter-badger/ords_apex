!function($,util,debug,server,navigation,lang,undefined){"use strict";function msg(pKey){return lang.getMessage("APEXIR_"+pKey)}function format(pKey){var pattern=msg(pKey),args=[pattern].concat(Array.prototype.slice.call(arguments,1));return lang.format.apply(this,args)}function getIdSelector(pDomId){return"#"+util.escapeCSS(pDomId)}var C_IRR="a-IRR",C_IRR_DIALOG=C_IRR+"-dialog",C_IRR_SORT_WIDGET=C_IRR+"-sortWidget",C_IRR_SORT_WIDGET_BUTTON=C_IRR_SORT_WIDGET+"-button",C_IRR_CHART_ATTR_NOT_FOR_PIE=C_IRR+"-chart-attr-not-for-pie",C_IRR_GROUP_BY_COLUMN=C_IRR+"-group-by-column",C_IRR_ADD_FUNCTION=C_IRR+"-add-function",C_IRR_COLUMN_NUM=C_IRR+"-column-num",C_IRR_FUNCTION=C_IRR+"-function",C_IRR_FUNCTION_COL=C_IRR+"-function-col",C_IRR_FUNCTION_NUM=C_IRR+"-function-num",C_IRR_FUNCTION_NUM_COL=C_IRR+"-function-num-col",C_IRR_FUNCTION_ROW=C_IRR+"-function-row-",C_IRR_PIVOT_COLUMN=C_IRR+"-pivot-column",C_IRR_ROW_COLUMN=C_IRR+"-row-column",C_IRR_COL_VALUE=C_IRR+"-col-value",C_IRR_SINGLE_ROW_GROUP=C_IRR+"-singleRow-group",C_UI_BUTTON_HOT="ui-button--hot",MSG={BUTTON:{CANCEL:msg("CANCEL"),DELETE:msg("DELETE"),APPLY:msg("APPLY"),SEND:msg("SEND")},DIALOG_TITLE:{SELECT_COLUMNS:msg("SELECT_COLUMNS"),FILTER:msg("FILTER"),HIGHLIGHT:msg("HIGHLIGHT"),SORT:msg("SORT"),CONTROL_BREAK:msg("CONTROL_BREAK"),COMPUTATION:msg("COMPUTE"),AGGREGATE:msg("AGGREGATE"),CHART:msg("CHART"),GROUP_BY:msg("GROUP_BY"),GROUP_BY_SORT:msg("GROUP_BY_SORT"),PIVOT:msg("PIVOT"),PIVOT_SORT:msg("PIVOT_SORT"),FLASHBACK:msg("FLASHBACK"),SAVE_REPORT:msg("SAVE_REPORT"),RENAME_REPORT:msg("RENAME_REPORT"),DELETE_REPORT:msg("DELETE_REPORT"),SAVE_DEFAULT_REPORT:msg("SAVE_DEFAULT_REPORT"),RENAME_DEFAULT_REPORT:msg("RENAME_DEFAULT_REPORT"),DELETE_DEFAULT_REPORT:msg("DELETE_DEFAULT_REPORT"),RESET:msg("RESET"),DOWNLOAD:msg("DOWNLOAD"),SUBSCRIPTION:msg("SUBSCRIPTION")}};$.widget("apex.interactiveReport",{version:"5.0",widgetEventPrefix:"interactivereport",suppressUpdate:!1,ajaxBusy:!1,lastFunction:null,idPrefix:null,currentAction:null,currentControl:null,currentColumnId:null,lastColumnId:null,computationId:null,reportId:null,worksheetId:null,region$:null,dialogDrop$:null,tempReturnElement$:null,viewMode:"REPORT",options:{regionId:null,ajaxIdentifier:null,toolbar:!0,searchField:!0,columnSearch:!0,rowsPerPageSelect:!1,reportsSelect:!0,actionsMenu:!1,reportViewMode:"REPORT",selectColumns:!0,filter:!0,rowsPerPage:!0,currentRowsPerPage:50,maxRowsPerPage:1e3,maxRowCount:null,sort:!0,controlBreak:!0,highlight:!0,compute:!0,aggregate:!0,chart:!0,groupBy:!0,pivot:!0,flashback:!1,saveReport:!0,saveDefaultReport:!1,reset:!0,help:!0,helpLink:"",download:!0,subscription:!1,pagination:!0,saveReportCategory:!1,detailLink:!1,isControlPanelCollapsed:!1,fixedHeader:"NONE",fixedHeaderMaxHeight:null,pageItems:null,beforeRefresh:null,afterRefresh:null},_create:function(){var lRegionId=this.options.regionId,lRegion$=$(getIdSelector(lRegionId),apex.gPageContext$),lIr$=$(getIdSelector(lRegionId+"_ir"),apex.gPageContext$);0===lRegion$.length&&(lRegion$=lIr$.wrap('<div id="'+lRegionId+'"></div>')),this.idPrefix=this.options.regionId,this.reportId=this._getElement("report_id").val(),this.worksheetId=this._getElement("worksheet_id").val(),this.viewMode=this._getElement("view_mode").val(),this.region$=lRegion$,this.dialogDrop$=this._getElement("dialog_js"),this._getElement("worksheet_region").addClass(C_IRR),this._initOnCreate(),this._on(this.region$,{apexrefresh:function(){this._search()}})},_destroy:function(){this._getElement("worksheet_region").removeClass(C_IRR)},_setOption:function(key,value){this._super(key,value)},_action:function(pAction,pData){var lData=$.extend({widgetMod:"ACTION",widgetAction:pAction},pData);this.currentAction=pAction,this._get(lData)},_aggregateClear:function(pAggregate){this._action("DELETE_AGGREGATE",{id:pAggregate})},_aggregateControl:function(){var lAggregateBy=this._getDialogElement("aggregate_by").val(),lIsAllColumns=-1!==$.inArray(lAggregateBy,["COUNT","COUNT_DISTINCT"]);this._getDialogElement("all_columns_container").toggle(lIsAllColumns),this._getDialogElement("number_columns_container").toggle(!lIsAllColumns)},_aggregateSave:function(){var lColumn,lAggregateBy=this._getDialogElement("aggregate_by").val(),lAggregation=this._getDialogElement("aggregation").val();lColumn=-1!==$.inArray(lAggregateBy,["COUNT","COUNT_DISTINCT"])?this._getDialogElement("all_columns").val():this._getDialogElement("number_columns").val(),this._action("SAVE_AGGREGATE",{id:lAggregation,value:lAggregateBy,x05:lColumn})},_chartClear:function(){this.options.reportViewMode="REPORT",this._action("DELETE_CHART")},_chartControl:function(){$("td."+C_IRR_CHART_ATTR_NOT_FOR_PIE,this._getElement("dialog_js")).toggle(!this._getDialogElement("chart_type_2").prop("checked"))},_chartSave:function(){this.suppressUpdate=!0,this._action("SAVE_CHART",{f01:this._utilGetFormElValues([this._getId("chart_type"),this._getId("chart_label"),this._getId("chart_value"),this._getId("aggregate_by"),this._getId("label_axis_title"),this._getId("value_axis_title"),this._getId("sort")])})},_chartView:function(){this._action("VIEW_CHART")},_columnOrder:function(pDirection){var lFArrays;"ASC"===pDirection||"DESC"===pDirection?this._action("COLUMN_ORDER",{f01:this.lastColumnId,f02:pDirection}):(lFArrays=this._utilGetFormElAttributes(),this._action("SORT",{f01:lFArrays.ids,f02:lFArrays.values}))},_columnDisplay:function(){var lOptionValues=[];this._getDialogElement("shuttle_right").find("option").each(function(){lOptionValues.push(this.value)}),this._action("SET_COLUMNS",{f01:lOptionValues})},_columnHelp:function(){this._controlsGet("INFO",this.currentColumnId)},_columnHide:function(pColumnId){var lValue;lValue=pColumnId?pColumnId:this.currentColumnId,this._action("HIDE",{id:lValue})},_columnSearchShow:function(pData){var i,lIsAllColumns,lItems=[],lChoices=[],that=this,lRows=$.parseJSON(pData).row;for(i=0;i<lRows.length;i++)lIsAllColumns="0"===lRows[i].C,lIsAllColumns?(lItems.push({type:"action",label:lRows[i].D,value:lRows[i].R,action:function(){that._getElement("column_search_root").removeClass("is-active"),that._getElement("column_search_current_column").val(""),that._getElement("search_field").attr({title:"Search",placeholder:""})}}),lItems.push({type:"separator"})):lChoices.push({label:lRows[i].D,value:lRows[i].R});lItems.push({type:"radioGroup",get:function(){return that._getElement("column_search_current_column").val()},set:function(pValue){var lLabel,lValue,lChoices=this.choices;for(i=0;i<lChoices.length;i++)if(lChoices[i].value===pValue){lLabel=format("SEARCH_COLUMN",lChoices[i].label),lValue=lChoices[i].value,that._getElement("column_search_root").addClass("is-active"),that._getElement("column_search_current_column").val(lValue),that._getElement("search_field").attr({title:lLabel,placeholder:lLabel});break}},choices:lChoices}),this.searchMenu.items=lItems,this.searchMenuCallback(),this.searchMenuCallback=null,this.searchMenu=null},_computationClear:function(){this._action("DELETE_COMPUTATION",{id:this._getDialogElement("comp_id").val()})},_computationSave:function(){var lValidate=$f_get_emptys([this._getId("column_heading"),this._getId("computation_expr")],"error","");lValidate||(this.suppressUpdate=!0,this._action("SAVE_COMPUTATION",{id:this._getDialogElement("comp_id").val(),value:this._getDialogElement("column_heading").val(),x06:this._getDialogElement("format_mask").val(),x07:this._getDialogElement("computation_expr").val()}))},_computationShow:function(pId){var lId;lId=pId?pId:this.computationId,this._controlsGet("SHOW_COMPUTATION",lId),this.computationId=null},_controlBreakOn:function(pColumnId){pColumnId&&(this.currentColumnId=pColumnId),this._action("BREAK",{id:this.currentColumnId})},_controlBreakSave:function(){var i,lIds=[];for(i=1;7>i;i++)lIds.push(this._getId("column")+"_0"+i),lIds.push(this._getId("enable")+"_0"+i);this._action("SAVE_BREAK",{f01:lIds,f02:this._utilGetFormElValues(lIds)})},_controlBreakToggle:function(pColumn,pChecked){this._action("BREAK_TOGGLE",{id:pColumn,value:pChecked})},_controlsFormatMask:function(pID){this.suppressUpdate=!0,this.tempReturnElement$=$(getIdSelector(pID)),this._controlsGet("FORMAT_MASK_LOV")},_controlsGet:function(pControl,pID){this._dialogReset(),this.currentAction="CONTROL",this.currentControl=pControl,pID&&(this.currentColumnId=pID),this._get({widgetMod:"CONTROL",widgetAction:pControl,id:pID})},_controlsNarrow:function(pID){this.suppressUpdate=!0,this.tempReturnElement$=$(getIdSelector(pID)),this._controlsGet("NARROW",this._getDialogElement("column_name").val())},_controlsRow:function(pRowId){this._controlsGet("SHOW_DETAIL",pRowId)},_dialogCheck:function(pContainer,pCallback){var lContainer="."+C_IRR_SORT_WIDGET,lCallback=this._dialogReset;pContainer&&(lContainer=pContainer),pCallback&&(lCallback=pCallback),this._on(this.document,{click:function(pEvent){$(pEvent.target).closest(lContainer).length||lCallback.call(this)}})},_dialogColorPicker:function(pSelector){var that=this;$(pSelector).each(function(){var lColorPicker$=$(this).ColorPicker({eventName:"xxx",onSubmit:function(pHsb,pHex,pRgb,pElement){var lElement$=$(pElement);lElement$.val("#"+pHex.toUpperCase()).trigger("change").ColorPickerHide()},onBeforeShow:function(){$(this).ColorPickerSetColor(this.value)},onShow:function(pElement){return $(pElement).fadeIn("fast"),!1},onHide:function(pElement){return $(pElement).fadeOut("fast"),!1}}).ColorPickerHide();that._on(lColorPicker$,{keyup:function(pEvent){lColorPicker$.ColorPickerSetColor(pEvent.target.value)},blur:function(){lColorPicker$.ColorPickerHide()},change:function(pEvent){var lTarget=pEvent.target;lTarget.value=lTarget.value.toUpperCase(),$(getIdSelector(lTarget.id+"_preview")).css("background",lTarget.value)}}),that._on(getIdSelector(this.id+"_picker"),{click:function(pEvent){lColorPicker$.ColorPickerShow(),pEvent.preventDefault()}}),$(getIdSelector(this.id+"_preview")).css("background",this.value)})},_dialogComp:function(pItem,pValue){var lSpace=!isNaN(pValue)||"."===pValue;html_ReturnToTextSelection(pValue+"",pItem,lSpace)},_dialogCurrentOperator:function(){var lColumn$=this._getDialogElement("column_name"),lColumnType=$(lColumn$.find("option")[lColumn$.prop("selectedIndex")]).attr("class");return this._getDialogElement(lColumnType+"_OPT")},_dialogColumnCheck:function(){var lCurrentOperator$=this._dialogCurrentOperator();$(lCurrentOperator$).siblings().hide().end().show(),this._dialogOperatorCheck(lCurrentOperator$)},_dialogOpen:function(pInit){function displayButton(pId,pAction,pLabel,pHot,pClose){var lLabel,lStyle;lLabel=pLabel?pLabel:MSG.BUTTON.APPLY,pHot&&(lStyle=C_UI_BUTTON_HOT),lButtons.push({text:lLabel,"class":lStyle,click:function(){pId?pAction.call(that,pId):pAction.call(that),pClose&&that._getElement("dialog_js").dialog("close")}})}var lIRRDlg$,lTitle,lId,lError,lButtons,that=this;switch(lButtons=[{text:MSG.BUTTON.CANCEL,click:function(){that._getElement("dialog_js").dialog("close")}}],that.currentControl){case"SHOW_COLUMN":lTitle=MSG.DIALOG_TITLE.SELECT_COLUMNS,displayButton(null,that._columnDisplay,null,!0,!0);break;case"SHOW_FILTER":lTitle=MSG.DIALOG_TITLE.FILTER,lId=that._getDialogElement("filter_id").val(),lId&&displayButton(lId,that._filterDelete,MSG.BUTTON.DELETE,!1,!0),displayButton(lId,that._filterSave,null,!0,!1);break;case"SHOW_HIGHLIGHT":lTitle=MSG.DIALOG_TITLE.HIGHLIGHT,lId=that._getDialogElement("highlight_id").val(),lId&&displayButton(lId,that._highlightClear,MSG.BUTTON.DELETE,!1,!0),displayButton(lId,that._highlightSave,null,!0,!1);break;case"SHOW_ORDERING":lTitle=MSG.DIALOG_TITLE.SORT,displayButton(this,that._columnOrder,null,!0,!0);break;case"SHOW_CTRL_BREAK":lTitle=MSG.DIALOG_TITLE.CONTROL_BREAK,displayButton(null,that._controlBreakSave,null,!0,!0);break;case"SHOW_COMPUTATION":lTitle=MSG.DIALOG_TITLE.COMPUTATION,lId=that._getDialogElement("comp_id").val(),lId&&displayButton(null,that._computationClear,MSG.BUTTON.DELETE,!1,!0),displayButton(null,that._computationSave,null,!0,!1);break;case"SHOW_AGGREGATE":lTitle=MSG.DIALOG_TITLE.AGGREGATE,lId=that._getDialogElement("aggregation").val(),lId&&displayButton(lId,that._aggregateClear,MSG.BUTTON.DELETE,!1,!0),displayButton(null,that._aggregateSave,null,!0,!0);break;case"SHOW_CHART":lTitle=MSG.DIALOG_TITLE.CHART,lId=that._getDialogElement("chart_type_hidden").val(),lId&&displayButton(null,that._chartClear,MSG.BUTTON.DELETE,!1,!0),displayButton(null,that._chartSave,null,!0,!1);break;case"SHOW_GROUP_BY":lTitle=MSG.DIALOG_TITLE.GROUP_BY,lId=that._getDialogElement("group_by_id").val(),lId&&displayButton(null,that._groupByRemove,MSG.BUTTON.DELETE,!1,!0),displayButton(null,that._groupBySave,null,!0,!1);break;case"SHOW_GROUP_BY_SORT":lTitle=MSG.DIALOG_TITLE.GROUP_BY_SORT,displayButton(this,that._groupBySort,null,!0,!0);break;case"SHOW_PIVOT":lTitle=MSG.DIALOG_TITLE.PIVOT,lId=that._getDialogElement("pivot_id").val(),lId&&displayButton(null,that._pivotRemove,MSG.BUTTON.DELETE,!1,!0),displayButton(null,that._pivotSave,null,!0,!1);break;case"SHOW_PIVOT_SORT":lTitle=MSG.DIALOG_TITLE.PIVOT_SORT,displayButton(this,that._pivotSort,null,!0,!0);break;case"SHOW_FLASHBACK":lTitle=MSG.DIALOG_TITLE.FLASHBACK,lId=that._getDialogElement("flashback_time").val(),lId&&displayButton(null,that._flashbackClear,MSG.BUTTON.DELETE,!1,!0),displayButton(null,that._flashbackSave,null,!0,!1);break;case"SAVE_REPORT":lTitle=MSG.DIALOG_TITLE.SAVE_REPORT,displayButton(null,that._save,null,!0,!1);break;case"SHOW_RENAME":lTitle=MSG.DIALOG_TITLE.RENAME_REPORT,displayButton(that.reportId,that._save,null,!0,!1);break;case"SHOW_DELETE":lTitle=MSG.DIALOG_TITLE.DELETE_REPORT,displayButton(null,that._remove,null,!0,!0);break;case"SHOW_SAVE_DEFAULT":lTitle=MSG.DIALOG_TITLE.SAVE_DEFAULT_REPORT,displayButton(null,that._saveDefault,null,!0,!1);break;case"SHOW_RENAME_DEFAULT":lTitle=MSG.DIALOG_TITLE.RENAME_DEFAULT_REPORT,displayButton("RENAME_DEFAULT",that._saveDefault,null,!0,!1);break;case"SHOW_DELETE_DEFAULT":lTitle=MSG.DIALOG_TITLE.DELETE_DEFAULT_REPORT,displayButton("DELETE_DEFAULT",that._remove,null,!0,!0);break;case"SHOW_RESET":lTitle=MSG.DIALOG_TITLE.RESET,displayButton(null,that._reset,null,!0,!0);break;case"SHOW_DOWNLOAD":lTitle=MSG.DIALOG_TITLE.DOWNLOAD;break;case"SHOW_NOTIFY":lTitle=MSG.DIALOG_TITLE.SUBSCRIPTION,lId=that._getDialogElement("notify_id").val(),lError=that._getDialogElement("email_not_configured").text(),lId&&displayButton(null,that._notifyClear,MSG.BUTTON.DELETE,!1,!0),lError||displayButton(null,that._notifySave,null,!0,!1)}lIRRDlg$=this._getElement("dialog_js").dialog({modal:!0,dialogClass:C_IRR_DIALOG,width:"auto",height:"auto",minWidth:"360",title:lTitle,buttons:lButtons,position:{my:"left+10 top+10",at:"left top",of:this._getElement("content")},close:function(){that._off(lIRRDlg$),lIRRDlg$.dialog("destroy")}}),pInit&&pInit.call()},_dialogColumnHandlers:function(){this._on(this._getDialogElement("column_name"),{change:function(){this._dialogColumnCheck()}}),this._on(this._getElement("dialog_js"),{"change select.a-IRR-operator":function(pEvent){this._dialogOperatorCheck($(pEvent.target))},"click button.a-Button--menu":function(pEvent){var lNarrow=$(pEvent.currentTarget).data("picker-for");this._controlsNarrow(lNarrow)}})},_dialogOperatorCheck:function(pOperator$){var lThis=[],lValue=pOperator$.val(),lColumnType=pOperator$.data("column-type"),lLastNextStyleOperatorValues=["is in the last","is not in the last","is in the next","is not in the next"];lThis[0]=$x(this._getId("expression")).parentNode,lThis[1]=$x(this._getId("expression2")).parentNode,lThis[2]=$x(this._getId("expression3")).parentNode,lThis[3]=$x(this._getId("between_from")).parentNode,lThis[4]=$x(this._getId("between_to")).parentNode,$x_Show_Hide(this._getId("expression_icon_link"),lThis),"is null"===lValue||"is not null"===lValue?this._getDialogElement("expression_label").hide():(this._getDialogElement("expression_label").show(),"DATE"===lColumnType&&-1===$.inArray(lValue,lLastNextStyleOperatorValues)?($x_Show(lThis[3]),"between"===lValue&&$x_Show(lThis[4])):($x_Show(lThis[0]),"between"===lValue&&$x_Show(lThis[1]),$.inArray(lValue,lLastNextStyleOperatorValues)>-1&&$x_Show_Hide(lThis[2],this._getId("expression_icon_link"))))},_dialogReset:function(){this.suppressUpdate||(this.currentColumnId=null,this.computationId=null,this._off(this.document,"click"))},_dialogUtilExpType:function(){var l_ob={};return l_ob.col=$x(this._getId("column_name")),l_ob.col_type=l_ob.col.options[l_ob.col.selectedIndex].className,l_ob.col_opt=$x(this._getId(l_ob.col_type+"_OPT")),l_ob.col_opt_val=$v(l_ob.col_opt),l_ob.form_items="DATE"===l_ob.col_type&&"is in the last"!==l_ob.col_opt_val&&"is not in the last"!==l_ob.col_opt_val&&"is in the next"!==l_ob.col_opt_val&&"is not in the next"!==l_ob.col_opt_val?[this._getId("between_from"),this._getId("between_to")]:[this._getId("expression"),this._getId("expression2")],l_ob},_dialogValidate:function(){var lTest=[],l_OB=this._dialogUtilExpType();switch(!0){case"between"===l_OB.col_opt_val:lTest=[l_OB.form_items[0],l_OB.form_items[1]];break;case"is null"===l_OB.col_opt_val||"is not null"===l_OB.col_opt_val:lTest=[];break;case"is in the last"===l_OB.col_opt_val||"is not in the last"===l_OB.col_opt_val||"is in the next"===l_OB.col_opt_val||"is not in the next"===l_OB.col_opt_val:lTest=[l_OB.form_items[0],this._getId("expression3")];break;default:lTest=[l_OB.form_items[0]]}return $f_get_emptys(lTest,"error","")?!1:l_OB},_emailSend:function(){var lIds,lRequired=[this._getId("email_to")],lValidate=$f_get_emptys(lRequired,"error","");lValidate||(lIds=[this._getId("email_to"),this._getId("email_cc"),this._getId("email_bcc"),this._getId("email_subject"),this._getId("email_body")],this._action("SEND_EMAIL",{f01:lIds,f02:this._utilGetFormElValues(lIds)}),this._getElement("dialog_js").dialog("close"))},_emailShow:function(){var lButtons,that=this,lDlgContent$=this._getElement("dialog_js"),lEmailContainer$=this._getDialogElement("email"),lEmailButton$=this._getDialogElement("email_button");lEmailContainer$.show(),lEmailButton$.show(),lEmailButton$.is(":visible")&&(lButtons=[{text:MSG.BUTTON.CANCEL,click:function(){lDlgContent$.dialog("close")}},{text:MSG.BUTTON.SEND,"class":C_UI_BUTTON_HOT,click:function(){that._emailSend()}}],lDlgContent$.dialog("option","buttons",lButtons))},_filterDelete:function(pFilterId){this._action("FILTER_DELETE",{id:pFilterId})},_filterSave:function(pThis){var l_OB,lTemp,lActionMod="ADD",lFilterTypeId=this._getId("filter_type");if(pThis?(this.currentColumnId=pThis,lActionMod="UPDATE"):pThis=this._getDialogElement("column_name").val(),"COLUMN"===$v(lFilterTypeId)){if(l_OB=this._dialogValidate(),!l_OB)return;lTemp=[lFilterTypeId,l_OB.col.id,l_OB.col_opt.id,l_OB.form_items[0],l_OB.form_items[1],this._getId("expression3")]}else lTemp=[lFilterTypeId,this._getId("filter_expr"),this._getId("filter_name")];this.suppressUpdate=!0,this._action("FILTER",{widgetActionMod:lActionMod,f01:this._utilGetFormElValues(lTemp),id:pThis})},_flashbackSave:function(){this.suppressUpdate=!0,this._action("FLASHBACK_SET",{value:this._getDialogElement("flashback_time").val()})},_filterToggle:function(pFilterId,pChecked){this._action("FILTER_TOGGLE",{id:pFilterId,value:pChecked})},_flashbackClear:function(){this._action("FLASHBACK_CLEAR")},_flashbackToggle:function(){this._action("FLASHBACK_TOGGLE")},_functionControl:function(pThis){var lElId,lRowNum,lIsNumberColumn,lNumFunctions=["SUM","AVG","MAX","MIN","MEDIAN","RATIO_TO_REPORT_SUM"];pThis&&(lElId=pThis.id,lRowNum=lElId.substr(lElId.length-2),lIsNumberColumn=-1!==$.inArray($(pThis).val(),lNumFunctions),this._getDialogElement("number_columns_container_"+lRowNum).toggle(lIsNumberColumn),this._getDialogElement("all_columns_container_"+lRowNum).toggle(!lIsNumberColumn))},_get:function(pData){function _return(pData){var lSetFocusTo$,lValidatingActions,dialogInit,lData$,lToolbar$,lContent$;if("CONTROL"===that.currentAction){if("SORT_WIDGET"===that.currentControl)that._sortWidgetShow(pData);else if("INFO"===that.currentControl)that._helpWidgetShow(pData);else if("NARROW"===that.currentControl)lSetFocusTo$=that._inlinePicker("NARROW",pData);else if("FORMAT_MASK_LOV"===that.currentControl)lSetFocusTo$=that._inlinePicker("FORMAT_MASK_LOV",pData);else if("SEARCH_COLUMN"===that.currentControl)that._columnSearchShow(pData);else if("SHOW_DETAIL"===that.currentControl)that._singleRowViewShow(pData);else{switch(that.currentControl){case"SHOW_FILTER":dialogInit=function(){that._dialogColumnCheck(),that._dialogColumnHandlers(),that._on(that._getDialogElement("filter_type"),{"click input":function(pEvent){var lIsColumnFilter="COLUMN"===pEvent.target.value;that._getDialogElement("column_filter").toggle(lIsColumnFilter),that._getDialogElement("row_filter").toggle(!lIsColumnFilter)}}),that._on(that._getDialogElement("filter_expr_clear"),{click:function(pEvent){that._getDialogElement("filter_expr").val(""),pEvent.preventDefault()}}),that._on(that._getDialogElement("row_filter_columns"),{"click tr.a-IRR-row-filter-column":function(pEvent){var lColumnId=$(pEvent.currentTarget).data("column-id");that._dialogComp(that._getId("filter_expr"),lColumnId),pEvent.preventDefault()}}),that._on(that._getDialogElement("row_filter_operators"),{"click tr.a-IRR-row-filter-operator":function(pEvent){var lOperator=$(pEvent.currentTarget).data("operator");that._dialogComp(that._getId("filter_expr"),lOperator),pEvent.preventDefault()}})};break;case"SHOW_HIGHLIGHT":dialogInit=function(){that._dialogColumnCheck(),that._dialogColumnHandlers(),that._dialogColorPicker(that._getIdSelector("bg_color")+","+that._getIdSelector("font_color"))};break;case"SHOW_CHART":dialogInit=function(){that._chartControl(),that._on(that._getDialogElement("chart_type"),{"click input":function(){that._chartControl()}})};break;case"SHOW_COMPUTATION":dialogInit=function(){that._on(that._getDialogElement("comp_id"),{change:function(pEvent){that._computationShow($(pEvent.currentTarget).val())}}),that._on(that._getDialogElement("format_mask_picker"),{click:function(pEvent){that._controlsFormatMask(that._getId("format_mask")),pEvent.preventDefault()}}),that._on(that._getDialogElement("computation_expr_clear"),{click:function(pEvent){that._getDialogElement("computation_expr").val(""),pEvent.preventDefault()}}),that._on(that._getDialogElement("computation_columns"),{"click tr.a-IRR-computation-column":function(pEvent){var lColumnId=$(pEvent.currentTarget).data("column-id");that._dialogComp(that._getId("computation_expr"),lColumnId),pEvent.preventDefault()}}),that._on(that._getDialogElement("computation_keypad"),{"click td.a-IRR-key":function(pEvent){var lKey=$(pEvent.currentTarget).data("key");that._dialogComp(that._getId("computation_expr"),lKey),pEvent.preventDefault()}}),that._on(that._getDialogElement("computation_functions"),{"click tr.a-IRR-computation-function":function(pEvent){var lFunction=$(pEvent.currentTarget).data("function");that._dialogComp(that._getId("computation_expr"),lFunction),pEvent.preventDefault()}})};break;case"SHOW_COLUMN":dialogInit=function(){if(that.g_Shuttlep_v01=null,!flowSelectArray)var flowSelectArray=[];flowSelectArray[2]=$x(that._getId("shuttle_left")),flowSelectArray[1]=$x(that._getId("shuttle_right")),window.g_Shuttlep_v01=new dhtml_ShuttleObject(flowSelectArray[2],flowSelectArray[1])};break;case"SAVE_REPORT":dialogInit=function(){that._on(that._getDialogElement("save_option"),{change:function(pEvent){that._controlsGet(pEvent.target.value)}}),that.options.saveReportCategory&&that._on(that._getDialogElement("report_category"),{change:function(pEvent){that._saveCategoryCheck(pEvent.target)}})};break;case"SHOW_SAVE_DEFAULT":case"SHOW_RENAME_DEFAULT":dialogInit=function(){that._on(that._getDialogElement("default_type"),{"click input":function(pEvent){this._saveDefaultTypeCheck(pEvent.target.value)}}),that._saveDefaultTypeCheck($v(that._getId("default_type")))};break;case"SHOW_AGGREGATE":dialogInit=function(){that._on(that._getDialogElement("aggregation"),{change:function(pEvent){this._controlsGet("SHOW_AGGREGATE",$(pEvent.currentTarget).val())}}),that._on(that._getDialogElement("aggregate_by"),{change:function(){this._aggregateControl()}})};break;case"SHOW_DOWNLOAD":dialogInit=function(){that._on(that._getDialogElement("download_EMAIL"),{click:function(pEvent){that._emailShow(),pEvent.preventDefault()}})};break;case"SHOW_GROUP_BY":dialogInit=function(){that._on(that._getDialogElement("add_column"),{click:function(pEvent){this._utilAddMoreColumn(this._groupByMaxValue,C_IRR_GROUP_BY_COLUMN),pEvent.preventDefault()}}),that._on(that._getDialogElement("group_by_functions"),{"change select.a-IRR-function":function(pEvent){this._functionControl(pEvent.target)},"click a.a-IRR-format-mask-picker":function(pEvent){that._controlsFormatMask($(pEvent.currentTarget).data("picker-for")),pEvent.preventDefault()}}),that._on(that._getDialogElement("add_function"),{click:function(pEvent){this._utilAddMoreFunction(this._groupByMaxValue),pEvent.preventDefault()}})};break;case"SHOW_PIVOT":dialogInit=function(){that._on(that._getDialogElement("add_pivot_column"),{click:function(pEvent){this._utilAddMoreColumn(this._pivotMaxValue,C_IRR_PIVOT_COLUMN),pEvent.preventDefault()}}),that._on(that._getDialogElement("add_row_column"),{click:function(pEvent){this._utilAddMoreColumn(this._pivotMaxValue,C_IRR_ROW_COLUMN),pEvent.preventDefault()}}),that._on(that._getDialogElement("pivot_functions"),{"change select.a-IRR-function":function(pEvent){this._functionControl(pEvent.target)},"click a.a-IRR-format-mask-picker":function(pEvent){that._controlsFormatMask($(pEvent.currentTarget).data("picker-for")),pEvent.preventDefault()}}),that._on(that._getDialogElement("add_function"),{click:function(pEvent){this._utilAddMoreFunction(this._pivotMaxValue),pEvent.preventDefault()}})}}that._getElement("dialog_js").html(pData),that._dialogOpen(dialogInit)}lSetFocusTo$===undefined&&(lSetFocusTo$=$(":input:visible",that._getElement("dialog_js"))),lSetFocusTo$.length>0&&lSetFocusTo$[0].focus()}else that.suppressUpdate?(lValidatingActions=["SAVE_NOTIFY","SAVE_COMPUTATION","FLASHBACK_SET","SAVE_HIGHLIGHT","FILTER","GROUP_BY_SAVE","SAVE_PIVOT","SAVE_CHART"],$.inArray(that.currentAction,lValidatingActions)>-1&&(that.lastFunction=function(){that._validAction(pData)}),that.ajaxBusy=!1,that.suppressUpdate=!1,that.currentAction=null):(lData$=$($u_js_temp_drop()),lData$.html(pData),lToolbar$=lData$.find(that._getIdSelector("toolbar_controls")),lContent$=lData$.find(that._getIdSelector("content")),that._getElement("toolbar_controls",that.element).replaceWith(lToolbar$),that._getElement("content",that.element).replaceWith(lContent$),that.options.currentRowsPerPage=1*that._getElement("row_select").val(),that.viewMode=that._getElement("view_mode").val(),that._initToolbar(),that._initControlPanel(),that.currentAction=null,that.currentControl=null,that.reportId=that._getElement("report_id").val(),that._singleRowViewHide(),that._getElement("full_view").show(),lData$.remove(),that._initFixedHeader(!0),that.element.find(":focusable")[0].focus())}function _finishedLoading(){that.lastFunction&&(that.lastFunction(),that.lastFunction=!1),that.ajaxBusy=!1,"SEARCH_COLUMN"===that.currentControl&&that.searchMenuCallback&&(that.searchMenuCallback(!1),that.searchMenuCallback=null,that.searchMenu=null)}var lData,lOptions,lCallIssued,that=this,lTriggerRefresh=!1;"INFO"!==pData.widgetAction&&this._sortWidgetHide(),pData.widgetMod&&!this.suppressUpdate&&(-1!==$.inArray(pData.widgetMod,["ACTION","PULL"])?lTriggerRefresh=!0:"CONTROL"===pData.widgetMod&&pData.widgetAction&&"SHOW_DETAIL"===pData.widgetAction&&(lTriggerRefresh=!0)),lData=$.extend({p_widget_name:"worksheet",p_widget_mod:pData.widgetMod,p_widget_action:pData.widgetAction,p_widget_action_mod:pData.widgetActionMod,p_widget_num_return:that.options.currentRowsPerPage,x01:that.worksheetId,x02:that.reportId,x03:pData.id,x04:pData.value,pageItems:this.options.pageItems},pData),delete lData.widgetMod,delete lData.widgetAction,delete lData.widgetActionMod,delete lData.id,delete lData.value,"RESET"===lData.p_widget_action&&delete lData.p_widget_num_return,lOptions={dataType:"html",refreshObject:lTriggerRefresh?this.region$:null,loadingIndicator:that._getElement("worksheet_region"),loadingIndicatorPosition:"centered",success:_return,complete:_finishedLoading},lCallIssued=server.plugin(this.options.ajaxIdentifier,lData,lOptions),lCallIssued||(this.ajaxBusy=!1)},_getId:function(pId){return this.idPrefix+"_"+pId},_getIdSelector:function(pId){return getIdSelector(this._getId(pId))},_getElement:function(pId,pContext$){var lContext$;return lContext$=pContext$?pContext$:"dialog_js"===pId||/^sort_widget.*$/.test(pId)?apex.gPageContext$:this.element,$(this._getIdSelector(pId),lContext$)},_getDialogElement:function(pId){return this._getElement(pId,this._getElement("dialog_js"))},_groupByMaxValue:8,_groupByRemove:function(){this._action("GROUP_BY_REMOVE")},_groupBySave:function(){var lFArrays=this._utilGetFormElAttributes();this.suppressUpdate=!0,this._action("GROUP_BY_SAVE",{f01:lFArrays.ids,f02:lFArrays.values})},_groupBySort:function(pThis){var lFArrays,lGroupById=this._getDialogElement("group_by_id").val();"ASC"===pThis||"DESC"===pThis?(this.lastColumnId=pThis.id,this._action("GROUP_BY_COLUMN_SORT",{id:lGroupById,f01:this.lastColumnId,f02:pThis})):(lFArrays=this._utilGetFormElAttributes(),this._action("GROUP_BY_SORT",{id:lGroupById,f01:lFArrays.ids,f02:lFArrays.values}))},_groupByView:function(){this._action("VIEW_GROUP_BY")},_helpWidgetShow:function(pData){this._getElement("sort_widget_help").html(pData).show(),this._getElement("sort_widget_action_help").find("button.a-IRR-sortWidget-button").addClass("is-active"),this.lastColumnId=this.currentColumnId,this._dialogCheck(null,this._sortWidgetHide)},_highlightClear:function(pHighlightId){var lHighlightId;lHighlightId=pHighlightId?pHighlightId:$x("HIGHLIGHT_ID").value,this._action("CLEAR_HIGHLIGHT",{id:lHighlightId})},_highlightSave:function(){var lFArrays,l_OB=this._dialogValidate();l_OB&&(this.suppressUpdate=!0,lFArrays=this._utilGetFormElAttributes(),this._action("SAVE_HIGHLIGHT",{f01:lFArrays.ids,f02:lFArrays.values}),l_OB=null)},_highlightToggle:function(pHighlightId,pChecked){this._action("TOGGLE_HIGHLIGHT",{id:pHighlightId,value:pChecked})},_initControlPanel:function(){function _expand(){that.options.isControlPanelCollapsed&&(that.options.isControlPanelCollapsed=!1,that.suppressUpdate=!0,that._action("CONTROL_MIN",{value:"N"})),that._getElement("control_panel_summary").hide()}function _collapse(){that.options.isControlPanelCollapsed||(that.options.isControlPanelCollapsed=!0,that.suppressUpdate=!0,that._action("CONTROL_MIN",{value:"Y"})),that._getElement("control_panel_summary").show()}var that=this;this._on(this._getElement("control_panel"),{"click a.a-IRR-controlsLabel":function(pEvent){var lLink$=$(pEvent.currentTarget),lSetting=lLink$.data("setting");switch(lSetting){case"filter":this._controlsGet("SHOW_FILTER",lLink$.data("filter-id"));break;case"report":this._controlsGet("SHOW_RENAME");break;case"report-default":this._controlsGet("SHOW_RENAME_DEFAULT");break;case"highlight":this._controlsGet("SHOW_HIGHLIGHT",lLink$.data("highlight-id"));break;case"break":this._controlsGet("SHOW_CTRL_BREAK");break;case"chart":this._controlsGet("SHOW_CHART");break;case"group_by":this._controlsGet("SHOW_GROUP_BY");break;case"pivot":this._controlsGet("SHOW_PIVOT");break;case"flashback":that._controlsGet("SHOW_FLASHBACK")}pEvent.preventDefault()},"click a.a-IRR-reportSummary-label":function(pEvent){var lLink$=$(pEvent.currentTarget),lSetting=lLink$.data("setting");switch(lSetting){case"filter":this._controlsGet("SHOW_FILTER",lLink$.data("filter-id"));break;case"report":this._controlsGet("SHOW_RENAME");break;case"report-default":this._controlsGet("SHOW_RENAME_DEFAULT");break;case"highlight":this._controlsGet("SHOW_HIGHLIGHT",lLink$.data("highlight-id"));break;case"break":this._controlsGet("SHOW_CTRL_BREAK");
break;case"chart":this._controlsGet("SHOW_CHART");break;case"group-by":this._controlsGet("SHOW_GROUP_BY");break;case"pivot":this._controlsGet("SHOW_PIVOT");break;case"flashback":that._controlsGet("SHOW_FLASHBACK");break;default:that._getElement("control_panel").collapsible("expand")}pEvent.preventDefault()},"click input.a-IRR-controlsCheckbox":function(pEvent){var lCheckbox$=$(pEvent.target),lChecked=lCheckbox$.prop("checked")?"Y":"N",lSetting=lCheckbox$.data("setting");switch(lSetting){case"break":this._controlBreakToggle(lCheckbox$.data("break-column"),lChecked);break;case"filter":this._filterToggle(lCheckbox$.data("filter-id"),lChecked);break;case"highlight":this._highlightToggle(lCheckbox$.data("highlight-id"),lChecked);break;case"flashback":this._flashbackToggle()}},"click button.a-IRR-button--remove":function(pEvent){var lButton$=$(pEvent.currentTarget),lSetting=lButton$.data("setting");switch(lSetting){case"break":this._controlBreakOn(lButton$.data("break-column"));break;case"breaks":console.log("removes multiple breaks");break;case"filter":this._filterDelete(lButton$.data("filter-id"));break;case"filters":console.log("removes multiple filters");break;case"report":this._controlsGet("SHOW_DELETE");break;case"report-default":this._controlsGet("SHOW_DELETE_DEFAULT");break;case"highlight":this._highlightClear(lButton$.data("highlight-id"));break;case"highlights":console.log("removes multiple highlights");break;case"flashback":this._flashbackClear();break;case"chart":this._chartClear();break;case"group-by":this._groupByRemove();break;case"pivot":this._pivotRemove()}pEvent.preventDefault()}}),this._getElement("control_panel").collapsible({content:"div.a-MediaBlock-content",collapsed:that.options.isControlPanelCollapsed,collapse:_collapse,expand:_expand})},_initFixedHeader:function(pWindowResize){var lContainerClass,o=this.options;if(!$x("pScreenReaderMode")&&("PAGE"===o.fixedHeader||"REGION"===o.fixedHeader)&&0===$(".a-IRR-header--group",this.element).length){switch(this.viewMode){case"REPORT":"REPORT"===o.reportViewMode&&(lContainerClass="a-IRR-reportView");break;case"GROUP_BY":lContainerClass="a-IRR-groupByView"}if(lContainerClass){if(0===$(this.element).find(".a-IRR-iconViewTable").length)switch(o.fixedHeader){case"PAGE":$("."+lContainerClass,this.element).setTableHeadersAsFixed(),$(".js-stickyTableHeader",this.element).stickyWidget({toggleWidth:!0,stickToBottom:!0});break;case"REGION":$("."+lContainerClass,this.element).setTableHeadersAsFixed({maxHeight:o.fixedHeaderMaxHeight})}pWindowResize&&$(window).trigger("apexwindowresized")}}},_initMenus:function(){var that=this,o=this.options,rowsPerPageChoices=[1,5,10,15,20,25,50,100,1e3],actionMenu={items:[{id:"irColumn",type:"action",label:msg("SELECT_COLUMNS"),hide:!0,icon:"icon-irr-select-cols",action:function(){that._controlsGet("SHOW_COLUMN","COLUMN")}},{type:"separator"},{id:"irFilter",type:"action",label:msg("FILTER"),hide:!0,icon:"icon-irr-filter",action:function(){that._controlsGet("SHOW_FILTER")}},{id:"irRowsPerPage",type:"subMenu",label:msg("ROWS_PER_PAGE"),hide:!0,icon:"icon-irr-rows",menu:{items:[{type:"radioGroup",set:function(v){that.options.currentRowsPerPage=1*v,that._search("SEARCH")},get:function(){return that.options.currentRowsPerPage},choices:[]}]}},{id:"irFormat",type:"subMenu",label:msg("FORMAT"),hide:!1,icon:"icon-irr-format",menu:{items:[{id:"irOrdering",type:"action",label:msg("SORT"),hide:!0,icon:"icon-irr-sort",action:function(){that._controlsGet("SHOW_ORDERING")}},{id:"irCtrlBreak",type:"action",label:msg("CONTROL_BREAK"),hide:!0,icon:"icon-irr-control-break",action:function(){that._controlsGet("SHOW_CTRL_BREAK")}},{id:"irHighlight",type:"action",label:msg("HIGHLIGHT"),hide:!0,icon:"icon-irr-highlight",action:function(){that._controlsGet("SHOW_HIGHLIGHT")}},{id:"irCompute",type:"action",label:msg("COMPUTE"),hide:!0,icon:"icon-irr-compute",action:function(){that._computationShow()}},{id:"irAggregate",type:"action",label:msg("AGGREGATE"),hide:!0,icon:"icon-irr-aggregate",action:function(){that._controlsGet("SHOW_AGGREGATE")}},{id:"irChart",type:"action",label:msg("CHART"),hide:!0,icon:"icon-irr-chart",action:function(){that._controlsGet("SHOW_CHART")}},{id:"irGroupBySort",type:"action",label:msg("GROUP_BY_SORT"),hide:!0,icon:"icon-irr-sort",action:function(){that._controlsGet("SHOW_GROUP_BY_SORT")}},{id:"irGroupBy",type:"action",label:msg("GROUP_BY"),hide:!0,icon:"icon-irr-group-by",action:function(){that._controlsGet("SHOW_GROUP_BY")}},{id:"irPivotSort",type:"action",label:msg("PIVOT_SORT"),hide:!0,icon:"icon-irr-sort",action:function(){that._controlsGet("SHOW_PIVOT_SORT")}},{id:"irPivot",type:"action",label:msg("PIVOT"),hide:!0,icon:"icon-irr-pivot",action:function(){that._controlsGet("SHOW_PIVOT")}}]}},{type:"separator"},{id:"irFlashback",type:"action",label:msg("FLASHBACK"),hide:!0,icon:"icon-irr-flashback",action:function(){that._controlsGet("SHOW_FLASHBACK")}},{type:"separator"},{id:"irSaveReport",type:"action",label:msg("SAVE_REPORT"),hide:!0,icon:"icon-irr-saved-report",action:function(){that._controlsGet("SAVE_REPORT")}},{id:"irSaveDefault",type:"action",label:msg("SAVE_REPORT_DEFAULT"),hide:!0,icon:"icon-irr-saved-report",action:function(){that._controlsGet("SHOW_SAVE_DEFAULT")}},{id:"irReset",type:"action",label:msg("RESET"),hide:!0,icon:"icon-irr-reset",action:function(){that._controlsGet("SHOW_RESET")}},{type:"separator"},{id:"irHelp",type:"action",label:msg("HELP"),hide:!0,icon:"icon-irr-help",action:function(){navigation.popup.url(that.options.helpLink)}},{type:"separator"},{id:"irDownload",type:"action",label:msg("DOWNLOAD"),hide:!0,icon:"icon-irr-download",action:function(){that._controlsGet("SHOW_DOWNLOAD")}},{id:"irNotify",type:"action",label:msg("SUBSCRIPTION"),hide:!0,icon:"icon-irr-subscription",action:function(){that._controlsGet("SHOW_NOTIFY")}}],beforeOpen:function(event,menu){function findById(items,id){var i;for(i=0;i<items.length;i++)if(items[i].id===id)return items[i]}var i,rpp,rowsPerPageItemChoices,maxRows,item,subItems,o=that.options,items=menu.menu.items;if(that._dialogReset(),that._sortWidgetHide(),findById(items,"irColumn").hide=!(o.selectColumns&&"REPORT"===that.viewMode),findById(items,"irFilter").hide=!o.filter,findById(items,"irRowsPerPage").hide=!o.rowsPerPage,item=findById(items,"irFormat"),item.hide=!0,subItems=item.menu.items,"REPORT"===that.viewMode?(o.sort||o.controlBreak||o.highlight||o.compute||o.aggregate||o.chart||o.groupBy||o.pivot)&&(item.hide=!1,findById(subItems,"irOrdering").hide=!o.sort,findById(subItems,"irCtrlBreak").hide=!o.controlBreak,findById(subItems,"irHighlight").hide=!o.highlight,findById(subItems,"irCompute").hide=!o.compute,findById(subItems,"irAggregate").hide=!o.aggregate,findById(subItems,"irChart").hide=!o.chart,findById(subItems,"irGroupBySort").hide=!0,findById(subItems,"irGroupBy").hide=!o.groupBy,findById(subItems,"irPivotSort").hide=!0,findById(subItems,"irPivot").hide=!o.pivot):"GROUP_BY"===that.viewMode?o.groupBy&&(item.hide=!1,findById(subItems,"irOrdering").hide=!0,findById(subItems,"irCtrlBreak").hide=!0,findById(subItems,"irHighlight").hide=!0,findById(subItems,"irCompute").hide=!0,findById(subItems,"irAggregate").hide=!0,findById(subItems,"irChart").hide=!0,findById(subItems,"irGroupBySort").hide=!1,findById(subItems,"irGroupBy").hide=!1,findById(subItems,"irPivotSort").hide=!0,findById(subItems,"irPivot").hide=!0):"PIVOT"===that.viewMode?o.pivot&&(item.hide=!1,findById(subItems,"irOrdering").hide=!0,findById(subItems,"irCtrlBreak").hide=!0,findById(subItems,"irHighlight").hide=!0,findById(subItems,"irCompute").hide=!0,findById(subItems,"irAggregate").hide=!0,findById(subItems,"irChart").hide=!0,findById(subItems,"irGroupBySort").hide=!0,findById(subItems,"irGroupBy").hide=!0,findById(subItems,"irPivotSort").hide=!1,findById(subItems,"irPivot").hide=!1):"CHART"===that.viewMode&&(item.hide=!1,findById(subItems,"irOrdering").hide=!0,findById(subItems,"irCtrlBreak").hide=!0,findById(subItems,"irHighlight").hide=!0,findById(subItems,"irCompute").hide=!0,findById(subItems,"irAggregate").hide=!0,findById(subItems,"irChart").hide=!1,findById(subItems,"irGroupBySort").hide=!0,findById(subItems,"irGroupBy").hide=!0,findById(subItems,"irPivotSort").hide=!0,findById(subItems,"irPivot").hide=!0),findById(items,"irFlashback").hide=!o.flashback,findById(items,"irSaveReport").hide=!o.saveReport,findById(items,"irSaveDefault").hide=!o.saveDefaultReport,findById(items,"irReset").hide=!o.reset,findById(items,"irHelp").hide=!o.help,("REPORT"===that.viewMode||"GROUP_BY"===that.viewMode||"PIVOT"===that.viewMode)&&(findById(items,"irDownload").hide=!o.download,findById(items,"irNotify").hide=!o.subscription),o.rowsPerPage){for(item=findById(items,"irRowsPerPage"),item.menu.items[0].choices=[],rowsPerPageItemChoices=item.menu.items[0].choices,maxRows=o.maxRowCount,o.maxRowsPerPage&&o.maxRowsPerPage<maxRows&&(maxRows=o.maxRowsPerPage),i=0;i<rowsPerPageChoices.length&&(rpp=rowsPerPageChoices[i],!(rpp>maxRows));i++)rowsPerPageItemChoices.push({label:""+rpp,value:rpp});o.maxRowsPerPage||rowsPerPageItemChoices.push({label:msg("ALL"),value:1e5})}}};o.toolbar&&o.actionsMenu&&that._getElement("actions_menu").menu(actionMenu)},_initOnCreate:function(){var o=this.options;o.toolbar&&this._initToolbar(!0),this._initControlPanel(),$(document.body).append(this._getElement("sort_widget")),this._on(this.element,{"click a.a-IRR-headerLink":function(pEvent){"REPORT"===this.viewMode?this._controlsGet("SORT_WIDGET",$(pEvent.currentTarget).data("column")):"GROUP_BY"===this.viewMode?this._controlsGet("SHOW_GROUP_BY_SORT"):"PIVOT"===this.viewMode&&this._controlsGet("SHOW_PIVOT_SORT"),pEvent.preventDefault()}}),this._on(this.element,{"click button.a-IRR-button--pagination":function(pEvent){o.detailLink&&"SHOW_DETAIL"===this.currentControl?this._controlsRow($(pEvent.currentTarget).data("row-id")):o.pagination&&this._paginate($(pEvent.currentTarget).data("pagination"))},"click a.a-IRR-pagination-reset":function(pEvent){this._search("SEARCH"),pEvent.preventDefault()}}),o.pagination&&this._on(this.element,{"click a.a-IRR-pagination-reset":function(pEvent){this._search("SEARCH"),pEvent.preventDefault()}}),o.detailLink&&this._on(this.element,{"click a.a-IRR-detail-row":function(pEvent){this._controlsRow($(pEvent.currentTarget).data("row-id")),pEvent.preventDefault()}}),this._initFixedHeader()},_initToolbar:function(pOnCreate){var o=this.options,that=this;o.searchField&&(this._on(this._getElement("search_field"),{keydown:function(pEvent){pEvent.which===$.ui.keyCode.ENTER&&(this._search("SEARCH"),pEvent.preventDefault())}}),this._on(this._getElement("search_button"),{click:function(pEvent){this._search("SEARCH"),pEvent.preventDefault()}}),o.columnSearch&&pOnCreate&&this._getElement("column_search_drop").menu({asyncFetchMenu:function(menu,callback){that.searchMenu=menu,that.searchMenuCallback=callback,that._controlsGet("SEARCH_COLUMN")},afterClose:function(event,data){data.actionTaken&&setTimeout(function(){that._getElement("search_field").focus()},100)},items:[]})),o.rowsPerPageSelect&&this._on(this._getElement("row_select"),{change:function(pEvent){var lRowValue=pEvent.target.value;this._search("SEARCH",lRowValue),pEvent.preventDefault()}}),o.reportsSelect&&this._on(this._getElement("saved_reports"),{change:function(pEvent){var lReportId=pEvent.target.value;this._pull("REPORT_CHANGED",lReportId),pEvent.preventDefault()}}),this._on(this._getElement("toolbar_controls"),{"click .a-IRR-button--views":function(pEvent){var lView=$(pEvent.currentTarget).data("view");switch(lView){case"report":this._reportView("REPORT");break;case"icon":this._reportView("ICON");break;case"details":this._reportView("DETAIL");break;case"chart":this._chartView();break;case"group_by":this._groupByView();break;case"pivot":this._pivotView()}}}),o.actionsMenu&&pOnCreate&&this._initMenus()},_inlinePicker:function(pControl,pData){var i,lColValuesDrop$,out=util.htmlBuilder(),lData=$.parseJSON(pData),lIcon$=$("[data-picker-for="+this.tempReturnElement$.attr("id")+"]",this._getElement("dialog_js"));for(out.markup("<div").attr("id",this._getId("col_values_drop")).attr("class","a-IRR-col-values-drop").markup(">"),i=0;i<lData.row.length;i++)out.markup("<a").attr("href","#").attr("class",C_IRR_COL_VALUE).attr("data-return-value",lData.row[i].R).markup(">").markup(lData.row[i].D).markup("</a>");return out.markup("</div>"),lIcon$.after(out.toString()),lColValuesDrop$=this._getDialogElement("col_values_drop"),"NARROW"===pControl?this._on(lColValuesDrop$,{"click a.a-IRR-col-value":function(pEvent){var lCurrentValue,lSelectedValue=$(pEvent.currentTarget).data("returnValue"),lCurrentOperator=this._dialogCurrentOperator().val();"in"===lCurrentOperator||"not in"===lCurrentOperator?(lCurrentValue=this.tempReturnElement$.val(),lCurrentValue&&(lSelectedValue=lCurrentValue+","+lSelectedValue),this.tempReturnElement$.val(lSelectedValue)):(this.tempReturnElement$.val(lSelectedValue),lColValuesDrop$.remove(),this.tempReturnElement$.focus()),pEvent.preventDefault()}}):this._on(lColValuesDrop$,{"click a.a-IRR-col-value":function(pEvent){var lSelectedValue=$(pEvent.currentTarget).data("returnValue");this.tempReturnElement$.val(lSelectedValue),lColValuesDrop$.remove(),this.tempReturnElement$.focus(),pEvent.preventDefault()}}),this.suppressUpdate=!1,this.currentAction=null,this._on(lColValuesDrop$,{"keydown a":function(pEvent){var lAnchorList$=lColValuesDrop$.find("a"),lCurrentIndex=lAnchorList$.index($(pEvent.target)),lAnchorListLength=lAnchorList$.length-1;switch(lAnchorList$.attr("tabindex",-1),pEvent.which){case $.ui.keyCode.DOWN:lAnchorListLength>lCurrentIndex?lAnchorList$.eq(lCurrentIndex+1).focus():lAnchorList$.eq(0).focus(),pEvent.preventDefault();break;case $.ui.keyCode.UP:lCurrentIndex>0?lAnchorList$.eq(lCurrentIndex-1).focus():lAnchorList$.eq(lAnchorListLength).focus(),pEvent.preventDefault();break;case $.ui.keyCode.TAB:lColValuesDrop$.remove(),lIcon$.focus(),pEvent.preventDefault();break;case $.ui.keyCode.ESCAPE:lColValuesDrop$.remove(),lIcon$.focus(),pEvent.stopImmediatePropagation()}}}),this._dialogCheck(this._getIdSelector("col_values_drop"),function(){lColValuesDrop$.remove()}),lColValuesDrop$.find("a:first")},_paginate:function(pData){this._action("PAGE",{widgetActionMod:pData})},_notifyClear:function(){this._action("DELETE_NOTIFY",{id:this._getDialogElement("notify_id").val()})},_notifySave:function(){var lIds=[this._getId("notify_id"),this._getId("email_address"),this._getId("email_subject"),this._getId("notify_interval"),this._getId("start_date"),this._getId("end_date")];this.suppressUpdate=!0,this._action("SAVE_NOTIFY",{f01:lIds,f02:this._utilGetFormElValues(lIds)})},_pivotMaxValue:3,_pivotRemove:function(){this._action("DELETE_PIVOT")},_pivotSave:function(){var lFArrays=this._utilGetFormElAttributes();this.suppressUpdate=!0,this._action("SAVE_PIVOT",{f01:lFArrays.ids,f02:lFArrays.values})},_pivotSort:function(pThis){var lFArrays,lPivotId=this._getDialogElement("pivot_id").val();"ASC"===pThis||"DESC"===pThis?(this.lastColumnId=pThis.id,this._action("PIVOT_COLUMN_SORT",{id:lPivotId,f01:this.lastColumnId,f02:pThis})):(lFArrays=this._utilGetFormElAttributes(),this._action("PIVOT_SORT",{id:lPivotId,f01:lFArrays.ids,f02:lFArrays.values}))},_pivotView:function(){this._action("VIEW_PIVOT")},_pull:function(pAction,pReportId,pData){var lData=$.extend({widgetMod:"PULL",widgetAction:pAction},pData);pReportId&&(this.reportId=pReportId),this.currentAction=pAction,this._get(lData)},_remove:function(pAction){var lAction="DELETE";pAction&&(lAction=pAction),this._action(lAction)},_reportView:function(pMode){this.options.reportViewMode=pMode,this._action("VIEW_REPORT",{p_widget_view_mode:this.options.reportViewMode})},_reset:function(){this._action("RESET")},_save:function(pReportId){var lNewCategoryEl,lIds=[],lAction="SAVE",lReportNameId=this._getId("report_name"),lValidate=$f_get_emptys([lReportNameId],"error","");this.options.saveReportCategory&&(lNewCategoryEl=$x(this._getId("new_category")),lNewCategoryEl&&(lValidate=$f_get_emptys([lNewCategoryEl],"error",""))),lValidate||(pReportId&&(lAction="RENAME"),this.options.saveReportCategory&&(lIds.push(this._getId("report_category")),lIds.push(this._getId("new_category"))),lIds.push(lReportNameId),lIds.push(this._getId("public_report")),lIds.push(this._getId("report_description")),this._action(lAction,{f01:lIds,f02:this._utilGetFormElValues(lIds)}),this._getElement("dialog_js").dialog("close"))},_saveCategoryCheck:function(pThis){var lNewCategoryId=this._getId("new_category");"new"===pThis.value?$("<input/>",{id:lNewCategoryId,type:"text",title:msg("NEW_CATEGORY_LABEL"),name:""}).insertAfter(pThis):this._getDialogElement("new_category").remove()},_saveDefault:function(pAction){var lValidate,lIds=[],lValues=[],lAction="SAVE_DEFAULT",lDefaultTypeId=this._getId("default_type"),lDefaultType=$v(lDefaultTypeId),lReportNameId=this._getId("report_name");"ALTERNATIVE"===lDefaultType&&(lValidate=$f_get_emptys([lReportNameId],"error","")),lValidate||(pAction&&(lAction=pAction),lIds.push(lDefaultTypeId),lValues.push(lDefaultType),"ALTERNATIVE"===lDefaultType&&(lIds.push(lReportNameId),lValues.push(this._getDialogElement("report_name").val())),this._action(lAction,{f01:lIds,f02:lValues}),this._getElement("dialog_js").dialog("close"))},_saveDefaultTypeCheck:function(pDefaultType){var lIsAlternativeDefault="ALTERNATIVE"===pDefaultType;this._getDialogElement("report_name").closest("tr").toggle(lIsAlternativeDefault)},_search:function(pThis,pRows){var lData,lFArrays,o=this.options,lSearch=this._getElement("search_field").val();pRows&&(o.rowsPerPage||o.rowsPerPageSelect)&&(o.currentRowsPerPage=1*pRows),lFArrays=this._utilGetFormElAttributes(this._getId("toolbar_controls")),lData={f01:lFArrays.ids,f02:lFArrays.values},""===lSearch?this._pull(null,this.reportId,lData):this._action("QUICK_FILTER",lData)},_singleRowViewClear:function(){var lSingleRowView$=this._getElement("single_row_view"),lReportViewButton$=this._getElement("report_view");return this._off(lSingleRowView$),this._off(lReportViewButton$),lSingleRowView$.html(""),lSingleRowView$},_singleRowViewControl:function(){var lExcludeNulls$=this._getElement("exclude_nulls"),lShowDisplayedOnly$=this._getElement("show_displayed_only"),lIsExcludeNulls=lExcludeNulls$.prop("checked"),lIsShowDisplayedOnly=lShowDisplayedOnly$.prop("checked"),lRows$=$("div.a-IRR-singleRow-row",this.element),lColumnsDisplayed$=lRows$.filter(".is-displayed"),lColumnsOther$=lRows$.not(".is-displayed, .is-null"),lColumnsNull$=lRows$.filter(".is-null");this.ajaxBusy||(lColumnsDisplayed$.show(),lColumnsOther$.show(),lIsExcludeNulls&&lIsShowDisplayedOnly?(lColumnsNull$.hide(),lColumnsOther$.hide()):lIsExcludeNulls?lColumnsNull$.hide():lIsShowDisplayedOnly&&lColumnsOther$.hide(),this.currentAction="CHANGE_DETAIL_OPTION",this.suppressUpdate=!0,this._action("CHANGE_DETAIL_OPTION",{value:lIsExcludeNulls?lExcludeNulls$.val():"",x05:lIsShowDisplayedOnly?lShowDisplayedOnly$.val():""}))},_singleRowViewHide:function(){this._singleRowViewClear().hide()},_singleRowViewShow:function(pData){var lSingleRowView$=this._singleRowViewClear();this._getElement("full_view").hide(),this._getElement("data_panel").val(""),this._getElement("dialog_js").html(""),lSingleRowView$.html(pData).show(),lSingleRowView$.find(":focusable")[0].focus(),this.options.detailLink&&(this._on(this._getElement("report_view"),{click:function(pEvent){this._pull(null,$(pEvent.target).data("report-id"))}}),this._on(lSingleRowView$,{"click input.a-IRR-viewOptions-checkbox":function(){this._singleRowViewControl()}}),$("."+C_IRR_SINGLE_ROW_GROUP).collapsible({collapsed:!1}))},_sortWidgetHide:function(){var lSortWidgetRows$,lSortWidgetSearchField$,lLastColumn$,lSortWidget$=this._getElement("sort_widget");lSortWidget$.is(":visible")&&(lSortWidgetRows$=this._getElement("sort_widget_rows"),lSortWidgetSearchField$=this._getElement("sort_widget_search_field"),lLastColumn$=$("[data-column="+this.lastColumnId+"]",this.element),lSortWidget$.removeAttr("style").css({position:"absolute",display:"none"}),lLastColumn$.closest(".a-IRR-header").removeClass("is-active"),lSortWidgetRows$.html(""),$("button.a-IRR-sortWidget-button",this.element).removeClass("is-active"),this._off(lSortWidget$),this._off(lSortWidgetRows$),this._off(lSortWidgetSearchField$))},_sortWidgetSearch:function(pValue,pDoContains){var lOperator=pDoContains?"contains":"=",lTemp=[this.currentColumnId,lOperator,pValue,"",""];this._sortWidgetHide(),this._action("COL_FILTER",{f01:lTemp})},_sortWidgetShow:function(pData){function _sortWidgetFocusableFlags(pExcludeFirst){var lFocusableElements$=lSortWidget$.find(":focusable");pExcludeFirst||(lSortWidgetFirstFocusable$=lFocusableElements$.first(),lSortWidgetFirstFocusable$.data("first",!0)),lSortWidgetLastFocusable$=lFocusableElements$.last(),lSortWidgetLastFocusable$.data("last",!0)}var i,lSortWidgetFirstFocusable$,lSortWidgetLastFocusable$,lRowLength,lDisplay,lData=$.parseJSON(pData),out=util.htmlBuilder(),lSortWidget$=this._getElement("sort_widget"),lSortWidgetHelp$=this._getElement("sort_widget_help"),lSortWidgetRows$=this._getElement("sort_widget_rows"),lCurrentColumn$=$("[data-column='"+this.currentColumnId+"']",this.element),lSortWidgetSearch$=this._getElement("sort_widget_search"),lSortWidgetSearchField$=this._getElement("sort_widget_search_field");if(this.computationId=lData.dialog.id,lSortWidgetHelp$.hide(),$("button."+C_IRR_SORT_WIDGET_BUTTON,lSortWidget$).parent().show(),$.each(lData.dialog.hide,function(i,val){$(getIdSelector(val),lSortWidget$).hide()}),lData.dialog.leadSortDir&&("ASC"===lData.dialog.leadSortDir?this._getElement("sort_widget_action_up").find("button.a-IRR-sortWidget-button").addClass("is-active"):"DESC"===lData.dialog.leadSortDir&&this._getElement("sort_widget_action_down").find("button.a-IRR-sortWidget-button").addClass("is-active")),lData.dialog.uv){for(lRowLength=lData.dialog.row.length,i=0;lRowLength>i;i++)lData.dialog.row[i].R&&(lDisplay=lData.dialog.row[i].D?lData.dialog.row[i].D:lData.dialog.row[i].R,out.markup("<a").attr("href","#").attr("data-return-value",lData.dialog.row[i].R).attr("class","a-IRR-sortWidget-row").markup(">").markup(lDisplay).markup("</a>"));lSortWidgetRows$.append(out.toString()),lSortWidgetSearch$.show(),lSortWidgetSearchField$.val("")}else lSortWidgetSearch$.hide();lSortWidget$.show().position({my:"left top",at:"left bottom",of:lCurrentColumn$}),lCurrentColumn$.closest(".a-IRR-header").addClass("is-active"),this.lastColumnId=this.currentColumnId,this._on(lSortWidget$,{"click button.a-IRR-sortWidget-button":function(pEvent){var lTargetOption=$(pEvent.currentTarget).data("option");switch(lTargetOption){case"up":this._columnOrder("ASC");break;case"down":this._columnOrder("DESC");break;case"hide":this._columnHide();break;case"break":this._controlBreakOn();break;case"help":this._columnHelp();break;case"computation":this._computationShow()}},keydown:function(pEvent){if(pEvent.which===$.ui.keyCode.ESCAPE&&(this._sortWidgetHide(),pEvent.preventDefault(),lCurrentColumn$.focus()),pEvent.which===$.ui.keyCode.TAB){var lGoingBackwards=!!pEvent.shiftKey;!lGoingBackwards&&$(pEvent.target).data("last")&&(pEvent.preventDefault(),lSortWidgetFirstFocusable$.focus()),lGoingBackwards&&$(pEvent.target).data("first")&&(pEvent.preventDefault(),lSortWidgetLastFocusable$.focus())}}}),this._on(lSortWidgetRows$,{"click a":function(pEvent){this._sortWidgetSearch($(pEvent.currentTarget).data("returnValue")),pEvent.preventDefault()}}),this._on(lSortWidgetSearchField$,{keyup:function(pEvent){lSortWidgetLastFocusable$.data("last",!1),$d_Find(this._getId("sort_widget_rows"),pEvent.target.value,"a"),_sortWidgetFocusableFlags(!0)},keydown:function(pEvent){pEvent.which===$.ui.keyCode.ENTER&&(this._sortWidgetSearch($(pEvent.target).val(),!0),pEvent.preventDefault())}}),this._dialogCheck(null,this._sortWidgetHide),_sortWidgetFocusableFlags(),lSortWidgetFirstFocusable$.focus()},_utilGetFormEls:function(pContainerId){return $(getIdSelector(pContainerId)+" :input").not("button")},_utilGetFormElAttributes:function(pContainerId){var lContainerId,lIds=[],lValues=[];return lContainerId=pContainerId?pContainerId:this._getId("dialog_js"),this._utilGetFormEls(lContainerId).each(function(i,pElement){lIds.push(pElement.id),lValues.push($v(pElement.id))}),{ids:lIds,values:lValues}},_utilGetFormElValues:function(pIdArray){var i,lValues=[];for(i=0;i<pIdArray.length;i++)lValues.push($v(pIdArray[i]));return lValues},_utilReplaceAttrText:function(pSelector$,pAttr,pOld,pNew){var lNewAttrValue=pSelector$.attr(pAttr).replace(pOld,pNew);pSelector$.attr(pAttr,lNewAttrValue)},_utilAddMoreColumn:function(pMaxDisplay,pClass){var lDisplayed,lOldNum,lNewNum,lOldID,lNewID,lLastColumn$,lNewColumn$,lNewSelect$,lDialog$=this._getElement("dialog_js");lDisplayed=$("select."+pClass,lDialog$).length,pMaxDisplay>lDisplayed&&(lOldNum=lDisplayed,lNewNum=++lDisplayed,10>lOldNum?(lOldID="0"+lOldNum,lNewID="0"+lNewNum):(lOldID=lOldNum,lNewID=lNewNum),lLastColumn$=$("tr."+pClass+"-row-"+lOldNum,lDialog$),lNewColumn$=lLastColumn$.clone(),this._utilReplaceAttrText(lNewColumn$,"class",lOldNum,lNewNum),$("."+C_IRR_COLUMN_NUM,lNewColumn$).text(lNewNum),lNewSelect$=$("select."+pClass,lNewColumn$),this._utilReplaceAttrText(lNewSelect$,"id",lOldID,lNewID),this._utilReplaceAttrText(lNewSelect$,"title",lOldNum,lNewNum),lNewColumn$.insertAfter(lLastColumn$)),lNewNum===pMaxDisplay&&($("tr."+pClass+"-add",lDialog$).hide(),lNewColumn$.focus())},_utilAddMoreFunction:function(pMaxDisplay){var lDisplayed,lOldNum,lNewNum,lOldID,lNewID,lLastFunction$,lNewFunction$,lNewFunctionSelect$,lNewNumColumnSelect$,lNewAllColumnSelect$,lNewLabel$,lNewFormatMask$,lNewFormatMaskPicker$,lNewSum$,lDialog$=this._getElement("dialog_js");lDisplayed=$("select."+C_IRR_FUNCTION,lDialog$).length,pMaxDisplay>lDisplayed&&(lOldNum=lDisplayed,lNewNum=++lDisplayed,10>lOldNum?(lOldID="0"+lOldNum,lNewID="0"+lNewNum):(lOldID=lOldNum,lNewID=lNewNum),lLastFunction$=$("tr."+C_IRR_FUNCTION_ROW+lOldNum,lDialog$),lNewFunction$=lLastFunction$.clone(),this._utilReplaceAttrText(lNewFunction$,"class",lOldNum,lNewNum),$("span."+C_IRR_FUNCTION_NUM,lNewFunction$).text(lNewNum),lNewFunctionSelect$=$("select."+C_IRR_FUNCTION,lNewFunction$),this._utilReplaceAttrText(lNewFunctionSelect$,"title",lOldNum,lNewNum),this._utilReplaceAttrText(lNewFunctionSelect$,"id",lOldID,lNewID),this._utilReplaceAttrText($(this._getIdSelector("number_columns_container")+"_"+lOldID,lNewFunction$),"id",lOldID,lNewID),this._utilReplaceAttrText($(this._getIdSelector("all_columns_container")+"_"+lOldID,lNewFunction$),"id",lOldID,lNewID),lNewNumColumnSelect$=$("select."+C_IRR_FUNCTION_NUM_COL,lNewFunction$),this._utilReplaceAttrText(lNewNumColumnSelect$,"title",lOldNum,lNewNum),this._utilReplaceAttrText(lNewNumColumnSelect$,"id",lOldID,lNewID),lNewAllColumnSelect$=$("select."+C_IRR_FUNCTION_COL,lNewFunction$),this._utilReplaceAttrText(lNewAllColumnSelect$,"title",lOldNum,lNewNum),this._utilReplaceAttrText(lNewAllColumnSelect$,"id",lOldID,lNewID),lNewLabel$=$(this._getIdSelector("label")+"_"+lOldID,lNewFunction$),this._utilReplaceAttrText(lNewLabel$,"title",lOldNum,lNewNum),this._utilReplaceAttrText(lNewLabel$,"id",lOldID,lNewID),lNewLabel$.val(""),lNewFormatMask$=$(this._getIdSelector("format_mask")+"_"+lOldID,lNewFunction$),this._utilReplaceAttrText(lNewFormatMask$,"title",lOldNum,lNewNum),this._utilReplaceAttrText(lNewFormatMask$,"id",lOldID,lNewID),lNewFormatMask$.val(""),lNewFormatMaskPicker$=$(this._getIdSelector("format_mask_picker")+"_"+lOldID,lNewFunction$),this._utilReplaceAttrText(lNewFormatMaskPicker$,"id",lOldID,lNewID),this._utilReplaceAttrText(lNewFormatMaskPicker$,"data-picker-for",lOldID,lNewID),lNewSum$=$(this._getIdSelector("function_sum")+"_"+lOldID,lNewFunction$),this._utilReplaceAttrText(lNewSum$,"title",lOldNum,lNewNum),this._utilReplaceAttrText(lNewSum$,"id",lOldID,lNewID),lNewSum$.prop("checked",!1),lNewFunction$.insertAfter(lLastFunction$)),lNewNum===pMaxDisplay&&($("tr."+C_IRR_ADD_FUNCTION,lDialog$).hide(),lNewFunction$.focus())},_validAction:function(pTest){"true"===pTest?(this._pull("PULL_TOOLBAR"),this._getElement("dialog_js").dialog("close")):(this._getDialogElement("dialog_msg").html(pTest),this.options.reportViewMode="REPORT")},refresh:function(){this._pull()}})}(apex.jQuery,apex.util,apex.debug,apex.server,apex.navigation,apex.lang);