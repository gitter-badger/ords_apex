!function(widget,$){widget.colorpicker=function(pSelector){$(pSelector,apex.gPageContext$).each(function(){var lColorPicker=$(this).ColorPicker({eventName:"xxx",onSubmit:function(pHsb,pHex,pRgb,pElement){$s(pElement,"#"+pHex.toUpperCase()),$(pElement).ColorPickerHide()},onBeforeShow:function(){$(this).ColorPickerSetColor(this.value)},onShow:function(pElement){return $(pElement).fadeIn("fast"),!1},onHide:function(pElement){return $(pElement).fadeOut("fast"),!1}}),lColorPickerFieldset=$("#"+this.id+"_fieldset",apex.gPageContext$);lColorPicker.bind("keyup",function(){lColorPicker.ColorPickerSetColor(this.value)}).bind("blur",function(){lColorPicker.ColorPickerHide()}).bind("change",function(){this.value=this.value.toUpperCase(),$("#"+this.id+"_PREVIEW",apex.gPageContext$).css("background",this.value)}),$("#"+this.id+"_PICKER",apex.gPageContext$).click(function(pEvent){lColorPicker.ColorPickerShow(),pEvent.preventDefault()}),$("#"+this.id+"_PREVIEW",apex.gPageContext$).css("background",this.value),widget.initPageItem(this.id,{enable:function(){lColorPicker.prop("disabled")===!0&&(lColorPicker.prop("disabled",!1).removeClass("apex_disabled"),$("#"+this.id+"_PICKER",apex.gPageContext$).click(function(pEvent){lColorPicker.ColorPickerShow(),pEvent.preventDefault()}),widget.util.enableIcon(lColorPickerFieldset,"#"))},disable:function(){lColorPicker.prop("disabled")===!1&&(lColorPicker.prop("disabled",!0).addClass("apex_disabled"),widget.util.disableIcon(lColorPickerFieldset))},show:function(){lColorPickerFieldset.show()},hide:function(){lColorPickerFieldset.hide()}})})}}(apex.widget,apex.jQuery);