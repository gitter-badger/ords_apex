!function($,widget,undefined){"use strict";$.mobile.listview.prototype.options.apexRegionId="",$.mobile.listview.prototype.options.apexAjaxIdentifier="",$.mobile.listview.prototype.options.apexPageItems="",$.mobile.listview.prototype.options.apexFilter="",widget.jqmListView||(widget.jqmListView=!0,$(document).on("listviewcreate","ul, ol",function(){function _ajax(pFirstRow){apex.server.plugin(lOptions.options.apexAjaxIdentifier,{pageItems:lOptions.options.apexPageItems,x01:"FETCH",x04:lListView$.jqmData("apex-last-search"),x05:pFirstRow},{dataType:"html",loadingIndicator:function(){return $.mobile.loading("show"),function(){$.mobile.loading("hide")}},refreshObject:lListView$,clear:1===pFirstRow?_clear:undefined,success:_addResult})}function _loadMore(){_ajax($("li[data-role!='list-divider']",lListView$).length)}function _clear(){lListView$.empty(),lListView$.listview("refresh")}function _addResult(pData){var lData$=$(pData),lFirstListDivider$=lData$.filter("li[data-role='list-divider']:first"),lLastListDivider$=$("li[data-role='list-divider']:last",lListView$);$("li.apex-load-more",lListView$).remove(),lListView$.append(lData$),lFirstListDivider$.text()===lLastListDivider$.text()&&lFirstListDivider$.remove(),lListView$.listview("refresh")}function _refresh(){_ajax(1)}function _initServerSearch(){var lWrapper$=$("<form>",{"class":"ui-listview-filter ui-bar-"+lOptions.options.filterTheme,role:"search"}),lSearch$=$("<input>",{placeholder:lOptions.options.filterPlaceholder}).attr("data-"+$.mobile.ns+"type","search").bind("change",function(){var lSearch=$(this).val();lListView$.jqmData("apex-last-search",lSearch),_ajax(1)});lSearch$.appendTo(lWrapper$).textinput(),lOptions.options.inset&&lWrapper$.addClass("ui-listview-filter-inset"),lWrapper$.bind("submit",function(){return!1}).insertBefore(lListView$)}var lRegion$,lListView$=$(this),lOptions=lListView$.data("mobile-listview");lOptions.options.apexRegionId&&lOptions.options.apexAjaxIdentifier&&(lRegion$=lListView$.parents("#"+lOptions.options.apexRegionId),lRegion$.on("apexrefresh",_refresh),lListView$.on("vclick","li.apex-load-more",_loadMore),lOptions.options.apexFilter&&_initServerSearch())}))}(apex.jQuery,apex.widget);