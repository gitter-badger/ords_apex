!function(widget,$){widget.popupLov=function(pSelector,pOptions){function _triggerRefresh(){gPopupLov.trigger("apexrefresh")}function refresh(){gPopupLov.trigger("apexbeforerefresh"),$s(gPopupLov.attr("id"),gOptions.nullValue,gOptions.nullValue),gPopupLov.trigger("apexafterrefresh")}function _callPopup(){return widget.util.callPopupLov(gOptions.ajaxIdentifier,{pageItems:$(gOptions.pageItemsToSubmit,apex.gPageContext$).add(gOptions.dependingOnSelector)},{filterOutput:gOptions.filterWithValue,filterValue:gPopupLov.val(),windowParameters:gOptions.windowParameters}),!1}var gOptions=$.extend({dependingOnSelector:null,optimizeRefresh:!0,pageItemsToSubmit:null,nullValue:"",filterWithValue:!1,windowParameters:null,inputField:"NOT_ENTERABLE"},pOptions),gPopupLov=$(pSelector,apex.gPageContext$),gEnterable="ENTERABLE"==gOptions.inputField;$(pSelector,apex.gPageContext$).each(function(){widget.initPageItem(this.id,{enable:function(){widget.util.enableIcon($("#"+this.id+"_holder",apex.gPageContext$).find("a"),"#",_callPopup),gEnterable?gPopupLov.prop("disabled",!1).removeClass("apex_disabled"):$("#"+this.id+"_HIDDENVALUE",apex.gPageContext$).prop("disabled",!1)},disable:function(){widget.util.disableIcon($(gPopupLov).closest("tr")),gEnterable?gPopupLov.prop("disabled",!0).addClass("apex_disabled"):$("#"+this.id+"_HIDDENVALUE",apex.gPageContext$).prop("disabled",!0)},show:function(){$("#"+this.id,apex.gPageContext$).closest("tr").show()},hide:function(){$("#"+this.id,apex.gPageContext$).closest("tr").hide()},setValue:function(pValue,pDisplayValue){gEnterable?$("#"+this.id,apex.gPageContext$).val(pValue):($("#"+this.id+"_HIDDENVALUE",apex.gPageContext$).val(pValue),$("#"+this.id,apex.gPageContext$).val(pDisplayValue))},getValue:function(){var lReturn;return lReturn=gEnterable?$("#"+this.id,apex.gPageContext$).val():$("#"+this.id+"_HIDDENVALUE",apex.gPageContext$).val()},setFocusTo:function(){return gEnterable?$(pSelector,apex.gPageContext$):$(pSelector+"_fieldset a",apex.gPageContext$)},nullValue:gOptions.nullValue})}),$(pSelector+"_fieldset a",apex.gPageContext$).click(_callPopup),gOptions.dependingOnSelector&&$(gOptions.dependingOnSelector,apex.gPageContext$).change(_triggerRefresh),gPopupLov.bind("apexrefresh",refresh)}}(apex.widget,apex.jQuery);