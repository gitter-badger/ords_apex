apex.jQuery.datepicker&&!apex.jQuery.timepicker&&!function(){function Timepicker(){}var hour_regexp=new RegExp("hh((24)|(12))?","gi"),min_regexp=new RegExp("ii","gi"),sec_regexp=new RegExp("ss","gi"),ampm_regexp=new RegExp("((%at%)|(%pt%))","gi");Timepicker.prototype={init:function(){this._mainDivId="ui-timepicker-div",this._inputId=null,this._orgValue=null,this._orgHour=null,this._orgMinute=null,this._colonPos=-1,this._visible=!1,this.tpDiv=apex.jQuery('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all ui-helper-hidden-accessible" style="width: 100px; display: none; position: absolute;"></div>'),apex.jQuery.extend(apex.jQuery.datepicker._defaults,{time24h:!1,showTime:!1,ampmNames:["AM","PM"],timeFormat:"HH:NI",altTimeField:"",defHour:0,defMinute:0,defAmpm:"",escapeKey:!1}),apex.jQuery.datepicker._connectDatepickerOverride=apex.jQuery.datepicker._connectDatepicker,apex.jQuery.datepicker._connectDatepicker=function(target,inst){apex.jQuery.datepicker._connectDatepickerOverride(target,inst),this._get(inst,"showTime")&&(inst.settings.showButtonPanel=!0);var showOn=this._get(inst,"showOn");("button"==showOn||"both"==showOn)&&(inst.trigger.unbind("click"),inst.trigger.click(function(){return apex.jQuery.datepicker._datepickerShowing&&apex.jQuery.datepicker._lastInput==target?apex.jQuery.datepicker._hideDatepicker(null):apex.jQuery.datepicker._showDatepicker(target),!1}))},apex.jQuery.datepicker._showDatepickerOverride=apex.jQuery.datepicker._showDatepicker,apex.jQuery.datepicker._showDatepicker=function(input){if(apex.jQuery.datepicker._showDatepickerOverride(input),input=input.target||input,"input"!=input.nodeName.toLowerCase()&&(input=apex.jQuery("input",input.parentNode)[0]),!apex.jQuery.datepicker._isDisabledDatepicker(input)){var inst=apex.jQuery.datepicker._getInst(input),showTime=apex.jQuery.datepicker._get(inst,"showTime");showTime&&apex.jQuery.timepicker.show(input)}},apex.jQuery.datepicker._checkExternalClickOverride=apex.jQuery.__checkExternalClick,apex.jQuery.datepicker._checkExternalClick=function(event){if(apex.jQuery.datepicker._curInst){var $target=apex.jQuery(event.target);$target[0].id==apex.jQuery.datepicker._mainDivId||0!=$target.parents("#"+apex.jQuery.datepicker._mainDivId).length||$target.hasClass(apex.jQuery.datepicker.markerClassName)||$target.hasClass(apex.jQuery.datepicker._triggerClass)||!apex.jQuery.datepicker._datepickerShowing||apex.jQuery.datepicker._inDialog&&apex.jQuery.blockUI||(apex.jQuery.datepicker._curInst.escapeKey=!0,apex.jQuery.datepicker._hideDatepicker())}},apex.jQuery.datepicker._doKeyDownOverride=apex.jQuery.datepicker._doKeyDown,apex.jQuery.datepicker._doKeyDown=function(event){var inst=apex.jQuery.datepicker._getInst(event.target),handled=!0,isRTL=inst.dpDiv.is(".ui-datepicker-rtl");if(inst._keyEvent=!0,inst.escapeKey=!1,apex.jQuery.datepicker._datepickerShowing)switch(event.keyCode){case 9:apex.jQuery.datepicker._get(inst,"showTime")&&(inst.escapeKey=!0),apex.jQuery.datepicker._hideDatepicker(),handled=!1;break;case 13:var sel=apex.jQuery("td."+apex.jQuery.datepicker._dayOverClass,inst.dpDiv).add(apex.jQuery("td."+apex.jQuery.datepicker._currentClass,inst.dpDiv));return sel[0]?apex.jQuery.datepicker._selectDay(event.target,inst.selectedMonth,inst.selectedYear,sel[0]):apex.jQuery.datepicker._hideDatepicker(),!1;case 27:inst.escapeKey=!0,apex.jQuery.datepicker._hideDatepicker();break;case 33:apex.jQuery.datepicker._adjustDate(event.target,event.ctrlKey?-apex.jQuery.datepicker._get(inst,"stepBigMonths"):-apex.jQuery.datepicker._get(inst,"stepMonths"),"M");break;case 34:apex.jQuery.datepicker._adjustDate(event.target,event.ctrlKey?+apex.jQuery.datepicker._get(inst,"stepBigMonths"):+apex.jQuery.datepicker._get(inst,"stepMonths"),"M");break;case 35:(event.ctrlKey||event.metaKey)&&apex.jQuery.datepicker._clearDate(event.target),handled=event.ctrlKey||event.metaKey;break;case 36:(event.ctrlKey||event.metaKey)&&apex.jQuery.datepicker._gotoToday(event.target),handled=event.ctrlKey||event.metaKey;break;case 37:(event.ctrlKey||event.metaKey)&&apex.jQuery.datepicker._adjustDate(event.target,isRTL?1:-1,"D"),handled=event.ctrlKey||event.metaKey,event.originalEvent.altKey&&apex.jQuery.datepicker._adjustDate(event.target,event.ctrlKey?-apex.jQuery.datepicker._get(inst,"stepBigMonths"):-apex.jQuery.datepicker._get(inst,"stepMonths"),"M");break;case 38:(event.ctrlKey||event.metaKey)&&apex.jQuery.datepicker._adjustDate(event.target,-7,"D"),handled=event.ctrlKey||event.metaKey;break;case 39:(event.ctrlKey||event.metaKey)&&apex.jQuery.datepicker._adjustDate(event.target,isRTL?-1:1,"D"),handled=event.ctrlKey||event.metaKey,event.originalEvent.altKey&&apex.jQuery.datepicker._adjustDate(event.target,event.ctrlKey?+apex.jQuery.datepicker._get(inst,"stepBigMonths"):+apex.jQuery.datepicker._get(inst,"stepMonths"),"M");break;case 40:(event.ctrlKey||event.metaKey)&&apex.jQuery.datepicker._adjustDate(event.target,7,"D"),handled=event.ctrlKey||event.metaKey;break;default:handled=!1}else 36==event.keyCode&&event.ctrlKey?apex.jQuery.datepicker._showDatepicker(this):handled=!1;handled&&(event.preventDefault(),event.stopPropagation())},apex.jQuery.datepicker._hideDatepickerOverride=apex.jQuery.datepicker._hideDatepicker,apex.jQuery.datepicker._hideDatepicker=function(input,duration){var inst=this._curInst;if(inst&&(!input||inst==apex.jQuery.data(input,PROP_NAME))){var showTime=this._get(inst,"showTime");void 0===input&&showTime&&!inst.escapeKey&&(inst.input&&inst.input.val(this._formatDate(inst)),this._updateAlternate(inst),showTime&&apex.jQuery.timepicker.update(this._formatDate(inst),inst)),inst.escapeKey=!1,apex.jQuery.datepicker._hideDatepickerOverride(input,duration)}},apex.jQuery.datepicker._selectDate=function(id,dateStr){var target=apex.jQuery(id),inst=this._getInst(target[0]),showTime=this._get(inst,"showTime");dateStr=null!=dateStr?dateStr:this._formatDate(inst),(!showTime||inst.inline&&showTime)&&(inst.input&&inst.input.val(dateStr),this._updateAlternate(inst));var onSelect=this._get(inst,"onSelect");onSelect?onSelect.apply(inst.input?inst.input[0]:null,[dateStr,inst]):inst.input&&!showTime&&inst.input.trigger("change"),inst.inline?this._updateDatepicker(inst):inst.stayOpen||(showTime?this._updateDatepicker(inst):(this._hideDatepicker(null,this._get(inst,"duration")),this._lastInput=inst.input[0],"object"!=typeof inst.input[0]&&inst.input[0].focus(),this._lastInput=null))},apex.jQuery.datepicker._updateAlternateOverride=apex.jQuery.datepicker._updateAlternate,apex.jQuery.datepicker._updateAlternate=function(inst){var altField=this._get(inst,"altField");if(altField){var altFormat=this._get(inst,"altFormat")||this._get(inst,"dateFormat"),date=this._getDate(inst),dateStr=this.formatDate(altFormat,date,this._getFormatConfig(inst));inst.inline&&this._get(inst,"showTime")&&(dateStr.match(hour_regexp)&&(dateStr=dateStr.replace(hour_regexp,apex.jQuery.datepicker._get(inst,"defHour"))),dateStr.match(min_regexp)&&(dateStr=dateStr.replace(min_regexp,apex.jQuery.datepicker._get(inst,"defMinute"))),dateStr.match(sec_regexp)&&(dateStr=dateStr.replace(sec_regexp,"00")),dateStr.match(ampm_regexp)&&(dateStr=dateStr.replace(ampm_regexp,apex.jQuery.datepicker._get(inst,"defAmpm")))),apex.jQuery(altField).each(function(){apex.jQuery(this).val(dateStr)})}},apex.jQuery.datepicker._selectDayOverride=apex.jQuery.datepicker._selectDay,apex.jQuery.datepicker._selectDay=function(id,month,year,td){var target=apex.jQuery(id);if(!apex.jQuery(td).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(target[0])){var inst=this._getInst(target[0]);inst.selectedDay=inst.currentDay=apex.jQuery("a",td).html(),inst.selectedMonth=inst.currentMonth=month,inst.selectedYear=inst.currentYear=year;var hour,minute,ampm;inst.inline&&inst.settings.showTime&&(hour=apex.jQuery(target).find('select[id$="hour"]').val(),minute=apex.jQuery(target).find('select[id$="minute"]').val(),ampm=apex.jQuery(target).find('select[id$="ampm"]').val()),this._selectDate(id,this._formatDate(inst,inst.currentDay,inst.currentMonth,inst.currentYear,hour,minute,0,ampm))}},apex.jQuery.datepicker._generateHTMLOverride=apex.jQuery.datepicker._generateHTML,apex.jQuery.datepicker._generateHTML=function(inst){var maxDraw,prevText,prev,nextText,next,currentText,gotoDate,controls,buttonPanel,firstDay,showWeek,dayNames,dayNamesMin,monthNames,monthNamesShort,beforeShowDay,showOtherMonths,selectOtherMonths,defaultDate,html,dow,row,group,col,selectedDate,cornerClass,calender,thead,day,daysInMonth,leadDays,curRows,numRows,printDate,dRow,tbody,daySettings,otherMonth,unselectable,tempDate=new Date,today=this._daylightSavingAdjust(new Date(tempDate.getFullYear(),tempDate.getMonth(),tempDate.getDate())),isRTL=this._get(inst,"isRTL"),showButtonPanel=this._get(inst,"showButtonPanel"),hideIfNoPrevNext=this._get(inst,"hideIfNoPrevNext"),navigationAsDateFormat=this._get(inst,"navigationAsDateFormat"),numMonths=this._getNumberOfMonths(inst),showCurrentAtPos=this._get(inst,"showCurrentAtPos"),stepMonths=this._get(inst,"stepMonths"),isMultiMonth=1!==numMonths[0]||1!==numMonths[1],currentDate=this._daylightSavingAdjust(inst.currentDay?new Date(inst.currentYear,inst.currentMonth,inst.currentDay):new Date(9999,9,9)),minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),drawMonth=inst.drawMonth-showCurrentAtPos,drawYear=inst.drawYear,showTime=this._get(inst,"showTime");if(0>drawMonth&&(drawMonth+=12,drawYear--),maxDate)for(maxDraw=this._daylightSavingAdjust(new Date(maxDate.getFullYear(),maxDate.getMonth()-numMonths[0]*numMonths[1]+1,maxDate.getDate())),maxDraw=minDate&&minDate>maxDraw?minDate:maxDraw;this._daylightSavingAdjust(new Date(drawYear,drawMonth,1))>maxDraw;)drawMonth--,0>drawMonth&&(drawMonth=11,drawYear--);for(inst.drawMonth=drawMonth,inst.drawYear=drawYear,prevText=this._get(inst,"prevText"),prevText=navigationAsDateFormat?this.formatDate(prevText,this._daylightSavingAdjust(new Date(drawYear,drawMonth-stepMonths,1)),this._getFormatConfig(inst)):prevText,prev=this._canAdjustMonth(inst,-1,drawYear,drawMonth)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+prevText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"e":"w")+"'>"+prevText+"</span></a>":hideIfNoPrevNext?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+prevText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"e":"w")+"'>"+prevText+"</span></a>",nextText=this._get(inst,"nextText"),nextText=navigationAsDateFormat?this.formatDate(nextText,this._daylightSavingAdjust(new Date(drawYear,drawMonth+stepMonths,1)),this._getFormatConfig(inst)):nextText,next=this._canAdjustMonth(inst,1,drawYear,drawMonth)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+nextText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"w":"e")+"'>"+nextText+"</span></a>":hideIfNoPrevNext?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+nextText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"w":"e")+"'>"+nextText+"</span></a>",currentText=this._get(inst,"currentText"),gotoDate=this._get(inst,"gotoCurrent")&&inst.currentDay?currentDate:today,currentText=navigationAsDateFormat?this.formatDate(currentText,gotoDate,this._getFormatConfig(inst)):currentText,controls=inst.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' onclick='apex.jQuery.datepicker._hideDatepicker();' data-event='click'>"+this._get(inst,"closeText")+"</button>",buttonPanel=showButtonPanel?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(isRTL?controls:"")+(this._isInRange(inst,gotoDate)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' onclick='apex.jQuery.datepicker._gotoToday(\"#"+inst.id+"\");' data-event='click'>"+currentText+"</button>":"")+(isRTL?"":controls)+"</div>":"",buttonPanel=inst.inline&&showTime?apex.jQuery.timepicker._generateInlineTimeHTML(inst)+buttonPanel:buttonPanel,firstDay=parseInt(this._get(inst,"firstDay"),10),firstDay=isNaN(firstDay)?0:firstDay,showWeek=this._get(inst,"showWeek"),dayNames=this._get(inst,"dayNames"),dayNamesMin=this._get(inst,"dayNamesMin"),monthNames=this._get(inst,"monthNames"),monthNamesShort=this._get(inst,"monthNamesShort"),beforeShowDay=this._get(inst,"beforeShowDay"),showOtherMonths=this._get(inst,"showOtherMonths"),selectOtherMonths=this._get(inst,"selectOtherMonths"),defaultDate=this._getDefaultDate(inst),html="",row=0;row<numMonths[0];row++){for(group="",this.maxRows=4,col=0;col<numMonths[1];col++){if(selectedDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,inst.selectedDay)),cornerClass=" ui-corner-all",calender="",isMultiMonth){if(calender+="<div class='ui-datepicker-group",numMonths[1]>1)switch(col){case 0:calender+=" ui-datepicker-group-first",cornerClass=" ui-corner-"+(isRTL?"right":"left");break;case numMonths[1]-1:calender+=" ui-datepicker-group-last",cornerClass=" ui-corner-"+(isRTL?"left":"right");break;default:calender+=" ui-datepicker-group-middle",cornerClass=""}calender+="'>"}for(calender+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+cornerClass+"'>"+(/all|left/.test(cornerClass)&&0===row?isRTL?next:prev:"")+(/all|right/.test(cornerClass)&&0===row?isRTL?prev:next:"")+this._generateMonthYearHeader(inst,drawMonth,drawYear,minDate,maxDate,row>0||col>0,monthNames,monthNamesShort)+"</div><table class='ui-datepicker-calendar'><thead><tr>",thead=showWeek?"<th class='ui-datepicker-week-col'>"+this._get(inst,"weekHeader")+"</th>":"",dow=0;7>dow;dow++)day=(dow+firstDay)%7,thead+="<th"+((dow+firstDay+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+dayNames[day]+"'>"+dayNamesMin[day]+"</span></th>";for(calender+=thead+"</tr></thead><tbody>",daysInMonth=this._getDaysInMonth(drawYear,drawMonth),drawYear===inst.selectedYear&&drawMonth===inst.selectedMonth&&(inst.selectedDay=Math.min(inst.selectedDay,daysInMonth)),leadDays=(this._getFirstDayOfMonth(drawYear,drawMonth)-firstDay+7)%7,curRows=Math.ceil((leadDays+daysInMonth)/7),numRows=isMultiMonth&&this.maxRows>curRows?this.maxRows:curRows,this.maxRows=numRows,printDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,1-leadDays)),dRow=0;numRows>dRow;dRow++){for(calender+="<tr>",tbody=showWeek?"<td class='ui-datepicker-week-col'>"+this._get(inst,"calculateWeek")(printDate)+"</td>":"",dow=0;7>dow;dow++)daySettings=beforeShowDay?beforeShowDay.apply(inst.input?inst.input[0]:null,[printDate]):[!0,""],otherMonth=printDate.getMonth()!==drawMonth,unselectable=otherMonth&&!selectOtherMonths||!daySettings[0]||minDate&&minDate>printDate||maxDate&&printDate>maxDate,tbody+="<td class='"+((dow+firstDay+6)%7>=5?" ui-datepicker-week-end":"")+(otherMonth?" ui-datepicker-other-month":"")+(printDate.getTime()===selectedDate.getTime()&&drawMonth===inst.selectedMonth&&inst._keyEvent||defaultDate.getTime()===printDate.getTime()&&defaultDate.getTime()===selectedDate.getTime()?" "+this._dayOverClass:"")+(unselectable?" "+this._unselectableClass+" ui-state-disabled":"")+(otherMonth&&!showOtherMonths?"":" "+daySettings[1]+(printDate.getTime()===currentDate.getTime()?" "+this._currentClass:"")+(printDate.getTime()===today.getTime()?" ui-datepicker-today":""))+"'"+(otherMonth&&!showOtherMonths||!daySettings[2]?"":" title='"+daySettings[2].replace(/'/g,"&#39;")+"'")+(unselectable?"":" data-handler='selectDay' data-event='click' data-month='"+printDate.getMonth()+"' data-year='"+printDate.getFullYear()+"'")+">"+(otherMonth&&!showOtherMonths?"&#xa0;":unselectable?"<span class='ui-state-default'>"+printDate.getDate()+"</span>":"<a class='ui-state-default"+(printDate.getTime()===today.getTime()?" ui-state-highlight":"")+(printDate.getTime()===currentDate.getTime()?" ui-state-active":"")+(otherMonth?" ui-priority-secondary":"")+"' href='#'>"+printDate.getDate()+"</a>")+"</td>",printDate.setDate(printDate.getDate()+1),printDate=this._daylightSavingAdjust(printDate);calender+=tbody+"</tr>"}drawMonth++,drawMonth>11&&(drawMonth=0,drawYear++),calender+="</tbody></table>"+(isMultiMonth?"</div>"+(numMonths[0]>0&&col===numMonths[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),group+=calender}html+=group}return html+=buttonPanel,inst._keyEvent=!1,html},apex.jQuery.datepicker._formatDateOverride=apex.jQuery.datepicker._formatDate,apex.jQuery.datepicker._formatDate=function(inst,day,month,year,hour,minute,second,ampm){day||(inst.currentDay=inst.selectedDay,inst.currentMonth=inst.selectedMonth,inst.currentYear=inst.selectedYear);var newDate,newHour=hour;if(inst.inline&&inst.settings.showTime){"PM"==ampm?12!=newHour&&(newHour+=12):12==newHour&&(newHour=0);var date=day?"object"==typeof day?day:this._daylightSavingAdjust(new Date(year,month,day)):this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay));newDate=this.formatDate(this._get(inst,"dateFormat"),date,this._getFormatConfig(inst)).replace(hour_regexp,hour).replace(min_regexp,minute).replace(sec_regexp,"00").replace(ampm_regexp,ampm)}else{var date=day?"object"==typeof day?day:this._daylightSavingAdjust(new Date(year,month,day)):this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay));newDate=this.formatDate(this._get(inst,"dateFormat"),date,this._getFormatConfig(inst))}return newDate},apex.jQuery.datepicker._updateDatepickerOverride=apex.jQuery.datepicker._updateDatepicker,apex.jQuery.datepicker._updateDatepicker=function(inst){apex.jQuery.datepicker._updateDatepickerOverride(inst),apex.jQuery.timepicker._generateTimeHtml(inst)}},show:function(input){var h,m,ampm,inst=apex.jQuery.datepicker._getInst(input);if(this._time24h=apex.jQuery.datepicker._get(inst,"time24h"),this._altTimeField=apex.jQuery.datepicker._get(inst,"altTimeField"),this._timeFormat=apex.jQuery.datepicker._get(inst,"timeFormat"),ldateFormat=apex.jQuery.datepicker._get(inst,"dateFormat"),this._inputId=input.id,this._visible||(this._parseTime(this._timeFormat),this._orgValue=apex.jQuery("#"+this._inputId).val()),""!=apex.jQuery("#"+this._inputId).val()&&null!=apex.jQuery("#"+this._inputId).val()){try{var settings=this._getFormatConfig(inst),date=this._parseDateTime(ldateFormat,apex.jQuery("#"+this._inputId).val(),settings,inst.settings.locale);h=date.getHours(),ampm=h>=12?ampmNames[1]:ampmNames[0],m=date.getMinutes()}catch(e){h=apex.jQuery.datepicker._get(inst,"defHour"),m=apex.jQuery.datepicker._get(inst,"defMinute")}this._setTime("hour",h),this._setTime("minute",m),this._time24h||this._setTime("ampm",ampm),this._orgHour=h,this._orgMinute=m}this.resize(),apex.jQuery("#"+this._mainDivId).show(),this._visible=!0;var dpDiv=apex.jQuery("#"+apex.jQuery.datepicker._mainDivId),dpDivPos=dpDiv.position(),viewWidth=(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)+apex.jQuery(document).scrollLeft(),tpRight=this.tpDiv.offset().left+this.tpDiv.outerWidth();tpRight>viewWidth&&(dpDiv.css("left",dpDivPos.left-(tpRight-viewWidth)-5),this.tpDiv.css("left",dpDiv.offset().left+dpDiv.outerWidth()+"px"))},update:function(fd,inst){var curTime,timeFormat=apex.jQuery.datepicker._get(inst,"timeFormat"),curHour=$v(this._mainDivId+"hour"),curMinute=$v(this._mainDivId+"minute"),curampm="",dummystr="";this._time24h?curTime=timeFormat.replace("HH24",curHour).replace("ii",curMinute).replace("SS","00"):(curampm=$v(this._mainDivId+"ampm"),dummystr=-1==timeFormat.indexOf("SS")?" "+curampm:"",curTime=timeFormat.replace("HH",curHour).replace("ii",curMinute+dummystr).replace("SS","00 "+curampm));apex.jQuery("#"+this._inputId).val();$s(this._inputId,fd.replace(hour_regexp,curHour).replace(min_regexp,curMinute).replace(sec_regexp,"00").replace(ampm_regexp,curampm)),this._altTimeField&&apex.jQuery(this._altTimeField).each(function(){apex.jQuery(this).val(curTime)})},hide:function(){this._visible=!1,apex.jQuery("#"+this._mainDivId).hide()},resize:function(){var hdrHeight=apex.jQuery("#"+apex.jQuery.datepicker._mainDivId+" > div.ui-datepicker-header:first-child").height();apex.jQuery("#"+this._mainDivId+" > div.ui-datepicker-header:first-child").css("height",hdrHeight)},_saveHour:function(hourItem){this._defHour=$v(hourItem)},_saveMinute:function(minuteItem){this._defMinute=$v(minuteItem)},_saveampm:function(ampmItem){this._defAmpm=$v(ampmItem)},_generateInlineTimeHTML:function(inst){var h,m,ampm,inputItemPrefix=(this._mainDivId,this._mainDivId.replace("datepicker","timepicker")),html="",maxHours=24,curhour="00",curminute="00",curampm="",time24h=apex.jQuery.datepicker._get(inst,"time24h");this._time24h=time24h;var ampmNames=apex.jQuery.datepicker._get(inst,"ampmNames"),ldateFormat=apex.jQuery.datepicker._get(inst,"dateFormat"),hourStart=(inst.input[0].value,0),altField=apex.jQuery.datepicker._get(inst,"altField");0==altField.indexOf("#")&&(altField=altField.substr(1,altField.length)),time24h||(maxHours=13,curhour=12,hourStart=1);try{var settings=this._getFormatConfig(inst),date=apex.jQuery.timepicker._parseDateTime(ldateFormat,$v(altField),settings);if(null==date)throw"myexp";h=date.getHours(),ampm=h>=12?ampmNames[1]:ampmNames[0],m=date.getMinutes()}catch(e){h=apex.jQuery.datepicker._get(inst,"defHour"),m=apex.jQuery.datepicker._get(inst,"defMinute"),ampm=apex.jQuery.datepicker._get(inst,"defAmpm"),$s(altField,$v(altField).replace(hour_regexp,h).replace(min_regexp,m).replace(sec_regexp,"00").replace(ampm_regexp,ampm))}if(curhour=h,curminute=m,curampm=ampm,time24h||"PM"!=ampm||12==curhour||(curhour-=12),curhour=time24h||0!=curhour?curhour:12,html='<div class="ui-helper-clearfix ui-corner-all">',html+='<span class="spanTime" style="float:right;"><table><tr><td>&nbsp;</td><td>&nbsp;</td><td>',html+='<table style="float:right;"><tr><td>',!time24h){html+='<select style="font-size:1em; margin:1px 0;float:right;" id="'+inputItemPrefix+altField+'ampm" class="datetimepicker_newMonth" onchange="apex.jQuery.timepicker.refreshTime(\'#'+inst.id+"');\" >";for(var ampm=0;2>ampm;ampm++)html+='<option value="'+ampmNames[ampm]+'"'+(ampmNames[ampm]==curampm?' selected="selected"':"")+">"+ampmNames[ampm]+"</option>";html+="</select>"}html+='<select style="font-size:1em; margin:1px 0;float:right;" id="'+inputItemPrefix+altField+'minute" class="datetimepicker_newMonth" onchange="apex.jQuery.timepicker.refreshTime(\'#'+inst.id+"');\" >";for(var minute=0;60>minute;minute++)html+=10>minute?'<option value="0'+minute+'"'+("0"+minute==curminute?' selected="selected"':"")+">0"+minute+"</option>":'<option value="'+minute+'"'+(minute==curminute?' selected="selected"':"")+">"+minute+"</option>";html+="</select>",html+='<select style="font-size:1em; margin:1px 0;float:right;" id="'+inputItemPrefix+altField+'hour" class="datetimepicker_newMonth" onchange="apex.jQuery.timepicker.refreshTime(\'#'+inst.id+"');\" >";for(var hour=hourStart;maxHours>hour;hour++)html+=10>hour?'<option value="0'+hour+'"'+("0"+hour==curhour?' selected="selected"':"")+">0"+hour+"</option>":'<option value="'+hour+'"'+(hour==curhour?' selected="selected"':"")+">"+hour+"</option>";return html+="</select>",html+="</td></tr></table></td></tr></table>",html+="</span></div>"},_generateTimeHtml:function(inst){var html="",maxHours=24,curhour="00",curminute="00",curampm="",time24h=apex.jQuery.datepicker._get(inst,"time24h");this._time24h=time24h;var ampmNames=apex.jQuery.datepicker._get(inst,"ampmNames"),curValue=inst.input[0].value,hourStart=0;if(inst.settings.showTime&&!inst.inline){if(time24h||(maxHours=13,curhour=12,hourStart=1),curhour=void 0!=this._defHour&&""!=curValue?this._defHour:apex.jQuery.datepicker._get(inst,"defHour"),curminute=void 0!=this._defMinute&&""!=curValue?this._defMinute:apex.jQuery.datepicker._get(inst,"defMinute"),curampm=void 0!=this._defAmpm&&""!=curValue?this._defAmpm:apex.jQuery.datepicker._get(inst,"defAmpm"),html='<div class="ui-helper-clearfix ui-corner-all">',html+='<span class="spanTime" style="float:right;"><table><tr><td>&nbsp;</td><td>&nbsp;</td><td>',html+='<table style="float:right;"><tr><td>',!time24h){html+='<select style="font-size:1em; margin:1px 0;float:right;" id="'+this._mainDivId+'ampm" class="datetimepicker_newMonth" onchange="apex.jQuery.timepicker._saveampm(this)" >';for(var ampm=0;2>ampm;ampm++)html+='<option value="'+ampmNames[ampm]+'"'+(ampmNames[ampm]==curampm?' selected="selected"':"")+">"+ampmNames[ampm]+"</option>";html+="</select>"}html+='<select style="font-size:1em; margin:1px 0;float:right;" id="'+this._mainDivId+'minute" class="datetimepicker_newMonth" onchange="apex.jQuery.timepicker._saveMinute(this)" >';for(var minute=0;60>minute;minute++)html+=10>minute?'<option value="0'+minute+'"'+("0"+minute==curminute?' selected="selected"':"")+">0"+minute+"</option>":'<option value="'+minute+'"'+(minute==curminute?' selected="selected"':"")+">"+minute+"</option>";html+="</select>",html+='<select style="font-size:1em; margin:1px 0;float:right;" id="'+this._mainDivId+'hour" class="datetimepicker_newMonth" onchange="apex.jQuery.timepicker._saveHour(this)" >';for(var hour=hourStart;maxHours>hour;hour++)html+=10>hour?'<option value="0'+hour+'"'+("0"+hour==curhour?' selected="selected"':"")+">0"+hour+"</option>":'<option value="'+hour+'"'+(hour==curhour?' selected="selected"':"")+">"+hour+"</option>";html+="</select>",html+="</td></tr></table></td></tr></table>",html+="</span></div>"}var buttonpaneHtml=apex.jQuery("#"+apex.jQuery.datepicker._mainDivId+" div.ui-datepicker-buttonpane.ui-widget-content").html();apex.jQuery("#"+apex.jQuery.datepicker._mainDivId+" div.ui-datepicker-buttonpane.ui-widget-content").html(html+buttonpaneHtml)},_writeTime:function(type,value){"hour"==type?(this._time24h?apex.jQuery("#"+this._mainDivId+" span.fragAmpm").text(""):(12>=value?$x(this._mainDivId+"ampm").selectedIndex=0:($x(this._mainDivId+"ampm").selectedIndex=1,value-=12),this._ampm=$v(this._mainDivId+"ampm"),0==value&&(value=12)),10>value&&(value="0"+value),$s(this._mainDivId+"hour",value),this._hour=value):"minute"==type?(10>value&&(value="0"+value),$s(this._mainDivId+"minute",value),this._minute=value):"ampm"==type&&($x(this._mainDivId+"ampm").selectedIndex="PM"==value?1:0,this._ampm=$v(this._mainDivId+"ampm"))},_getFormatConfig:function(inst){var shortYearCutoff=apex.jQuery.datepicker._get(inst,"shortYearCutoff");return shortYearCutoff="string"!=typeof shortYearCutoff?shortYearCutoff:(new Date).getFullYear()%100+parseInt(shortYearCutoff,10),{shortYearCutoff:shortYearCutoff,dayNamesShort:apex.jQuery.datepicker._get(inst,"dayNamesShort"),dayNames:apex.jQuery.datepicker._get(inst,"dayNames"),monthNamesShort:apex.jQuery.datepicker._get(inst,"monthNamesShort"),monthNames:apex.jQuery.datepicker._get(inst,"monthNames")}},_parseDateTime:function(format,value,settings,pLocale){if(null==format||null==value)throw"Invalid arguments";if(value="object"==typeof value?value.toString():value+"",""==value)return null;for(var shortYearCutoff=(settings?settings.shortYearCutoff:null)||this._defaults.shortYearCutoff,dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,year=-1,month=-1,day=-1,hour=-1,minute=0,second=0,ampm="",literal=!1,lookAhead=function(match){var matches=iFormat+1<format.length&&format.charAt(iFormat+1)==match;return matches&&iFormat++,matches},getNumber=function(match){lookAhead(match);for(var size="y"==match?4:2,num=0;size>0&&iValue<value.length&&value.charAt(iValue)>="0"&&value.charAt(iValue)<="9";)num=10*num+(value.charAt(iValue++)-0),size--;if(size==("y"==match?4:2))throw"Missing number at position "+iValue;return num},getName=function(match,shortNames,longNames,pLocale){for(var names=lookAhead(match)?longNames:shortNames,size=0,j=0;j<names.length;j++)size=Math.max(size,names[j].length);for(var name="",iInit=iValue;size>0&&iValue<value.length;){name+=value.charAt(iValue++);for(var i=0;i<names.length;i++)if(void 0==pLocale){if(name==names[i])return i+1}else if("en"==pLocale||"EN"==pLocale||1==pLocale.indexOf("en-")||1==pLocale.indexOf("EN-")){if(name.toUpperCase()==names[i].toUpperCase())return i+1}else if(name==names[i])return i+1;size--}throw"Unknown name at position "+iInit},getAmPm=function(){var lAmPm="",size=2;if("%"==format.charAt(iFormat)&&("a"==format.charAt(iFormat+1)||"p"==format.charAt(iFormat+1))&&"t"==format.charAt(iFormat+2)&&"%"==format.charAt(iFormat+3)){for(;size>0&&iValue<value.length;)lAmPm+=value.charAt(iValue++),size--;iFormat+=4}return lAmPm},checkLiteral=function(){if(value.charAt(iValue)!=format.charAt(iFormat))throw"Unexpected literal at position "+iValue;iValue++},iValue=0,iFormat=0;iFormat<format.length;iFormat++)if(literal)"'"!=format.charAt(iFormat)||lookAhead("'")?checkLiteral():literal=!1;else switch(format.charAt(iFormat)){case"h":hour=getNumber("h");break;case"H":hour=getNumber("H");break;case"i":minute=getNumber("i");break;case"s":second=getNumber("s");break;case"%":ampm=getAmPm();break;case"d":day=getNumber("d");break;case"D":getName("D",dayNamesShort,dayNames,pLocale);break;case"m":month=getNumber("m");break;case"M":month=getName("M",monthNamesShort,monthNames,pLocale);break;case"y":year=getNumber("y");break;case"'":lookAhead("'")?checkLiteral():literal=!0;break;default:checkLiteral()}100>year&&(year+=(new Date).getFullYear()-(new Date).getFullYear()%100+(shortYearCutoff>=year?0:-100)),ampm==ampmNames[1]?12!=hour&&(hour+=12):ampm==ampmNames[0]&&12==hour&&(hour=0);var date=new Date(year,month-1,day,hour,minute,second);if(date.getFullYear()!=year||date.getMonth()+1!=month||date.getDate()!=day)throw"Invalid date";return date},refreshTime:function(id){var hour,minute,ampm,target=apex.jQuery(id),inst=apex.jQuery.datepicker._getInst(target[0]);inst.inline&&inst.settings.showTime&&(hour=apex.jQuery(target).find('select[id$="hour"]').val(),minute=apex.jQuery(target).find('select[id$="minute"]').val(),ampm=apex.jQuery(target).find('select[id$="ampm"]').val()),apex.jQuery.datepicker._selectDate(id,apex.jQuery.datepicker._formatDate(inst,inst.currentDay,inst.currentMonth,inst.currentYear,hour,minute,0,ampm))},_parseTime:function(timeFormat){var dt=apex.jQuery("#"+this._inputId).val();if(""!=apex.jQuery.trim(dt)){var seperator=":";/^HH\d\d.NI/i.test(timeFormat)?seperator=timeFormat.substr(4,1):/^HH.NI/i.test(timeFormat)&&(seperator=timeFormat.substr(2,1)),this._colonPos=dt.search(seperator);var m=0,h=0,a="";if(-1!=this._colonPos){var ampmlength,sPos=timeFormat.indexOf("SS");h=parseInt(dt.substr(this._colonPos-2,2),10),m=parseInt(dt.substr(this._colonPos+1,2),10),-1==sPos?(ampmlength=dt.substr(this._colonPos+3,this._colonPos+3+dt.length).indexOf(" "),-1==ampmlength&&(ampmlength=this._colonPos+3+dt.length),a=apex.jQuery.trim(dt.substr(this._colonPos+3,ampmlength))):(ampmlength=dt.substr(this._colonPos+7,this._colonPos+7+dt.length).indexOf(" "),-1==ampmlength&&(ampmlength=this._colonPos+7+dt.length),a=apex.jQuery.trim(dt.substr(this._colonPos+7,ampmlength)))}a!=ampmNames[0]&&a!=ampmNames[1]&&(a=""),0>h&&(h=0),0>m&&(m=0),h>23&&(h=23),m>59&&(m=59),a==ampmNames[1]&&12>h&&(h+=12),a==ampmNames[0]&&12==h&&(h=1),this._setTime("hour",h),this._setTime("minute",m),this._orgHour=h,this._orgMinute=m}},_setTime:function(type,value){"ampm"!=type&&(isNaN(value)&&(value=0),0>value&&(value=0),value>23&&"hour"==type&&(value=23),value>59&&"minute"==type&&(value=59)),this._writeTime(type,value)}},apex.jQuery(document).ready(function(){apex.jQuery.timepicker=new Timepicker,apex.jQuery.timepicker.init()})}();