apex.widget.tabular={},function(tabular,report,$){function _highlightCheckedRow(pInternalRegionId,pRowSelect,pCurrentRowNum){pRowSelect.checked?(report.gStyleChecked[pInternalRegionId]&&$(pRowSelect,apex.gPageContext$).closest("tr").children("td").css("background-color",report.gStyleChecked[pInternalRegionId]),report.gRowActive[pInternalRegionId][pCurrentRowNum]="Y"):(report.gStyleChecked[pInternalRegionId]&&$(pRowSelect,apex.gPageContext$).closest("tr").children("td").css("background-color",""),report.gRowActive[pInternalRegionId][pCurrentRowNum]="N",$("#check-all-rows",apex.gPageContext$).prop("checked",!1))}function _setModified(pRegionId){for(var lModified=!1,lItems=$x_FormItems($x("report_"+pRegionId)),lItemCount=lItems.length,lChangedItemCount=tabular.gChangedItems.length,i=0;lItemCount>i;i++)tabular.gTabFormData[i]!==lItems[i].value&&"X01"!==lItems[i].name&&($(lItems[i]).addClass("apex-tabular-highlight"),lModified=!0);for(var j=0;lChangedItemCount>j;j++)$(tabular.gChangedItems[j]).addClass("apex-tabular-highlight"),lModified=!0;return lModified}tabular.gNewRowDatePicker=[],tabular.init=function(pRegionId,pOptions){var lOptions,lItems,lItemsCount;lOptions=$.extend({beforeRow:null,afterRow:null},pOptions),tabular.gTabFormData=[],tabular.gErrItems=pOptions.errorItems,tabular.gChangedItems=[],tabular.gNewRows=0,tabular.gTabFormRegionID=pRegionId,tabular.gTabFormReportID="report_"+pRegionId,tabular.gTabForm=$("#init_row_"+pRegionId,apex.gPageContext$).parent(),tabular.gTabFormDefaultBG=$("#init_row_"+pRegionId,apex.gPageContext$).children("td").css("background-color"),tabular.gTabFormInitRow=pOptions.beforeRow+$("#init_row_"+pRegionId,apex.gPageContext$).html()+pOptions.afterRow,pOptions.initialPageLoad&&(tabular.gInternalRegionId=pOptions.internalRegionId,tabular.gUnsavedMsg=pOptions.unsavedMsg,tabular.gAjaxEnabled=pOptions.ajaxEnabled,$(apex.gPageContext$).on("apexbeforepagesubmit",function(){$("input[name$=NOSUBMIT]",$("#"+tabular.gTabFormRegionID,apex.gPageContext$)[0]).each(function(){$x_disableItem(this,!0)}),$("#init_row_"+pRegionId,apex.gPageContext$).remove()})),$("#init_row_"+pRegionId,apex.gPageContext$).remove(),lItems=$x_FormItems($x(tabular.gTabFormReportID)),lItemsCount=lItems.length;for(var i=0;lItemsCount>i;i++)$(lItems[i]).attr("autocomplete","off"),tabular.gTabFormData[i]="X01"!==lItems[i].name?lItems[i].value:"0";$("#"+tabular.gTabFormRegionID,apex.gPageContext$).on("click","input.row-selector",function(){_highlightCheckedRow(tabular.gInternalRegionId,this,$(".row-selector",apex.gPageContext$).index(this))})},tabular.checkAll=function(pMasterCheckbox){$("input[name=f01]",$("#"+tabular.gTabFormRegionID,apex.gPageContext$)).each(function(i){$(this).prop("checked",pMasterCheckbox.checked),_highlightCheckedRow(tabular.gInternalRegionId,this,i)})},tabular.pad=function(pNumber,pLength){for(var lStr=""+pNumber;lStr.length<pLength;)lStr="0"+lStr;return lStr},tabular.paginate=function(pRegionId,pPaginationData){function _paginate(){tabular.gAjaxEnabled?report.paginate(tabular.gInternalRegionId,pPaginationData):apex.navigation.redirect(pPaginationData)}_setModified(pRegionId)?confirm(tabular.gUnsavedMsg)&&_paginate():_paginate()},tabular.sort=function(pRegionId,pSortData){function _sort(){tabular.gAjaxEnabled?report.sort(tabular.gInternalRegionId,pSortData):apex.navigation.redirect(pSortData)}_setModified(pRegionId)?confirm(tabular.gUnsavedMsg)&&_sort():_sort()},tabular.addRow=function(pNewRowVals,pNewRowMap,pDispTypeMap){var i,lRow,lItem,lNewRowIndex,lItemsIterator,lNewRowIdentifier,lItems=$x_FormItems($x(tabular.gTabFormReportID)),lItemsCount=lItems.length,lNewRow=tabular.gTabFormInitRow,lNewRowDatePicker=tabular.gNewRowDatePicker,lErrorItemsCount=tabular.gErrItems.length;for(tabular.gNewRows=tabular.gNewRows+1,lItemsIterator=0;lItemsCount>lItemsIterator;lItemsIterator++)tabular.gTabFormData[lItemsIterator]!==lItems[lItemsIterator].value&&"X01"!==lItems[lItemsIterator].name&&tabular.gChangedItems.push(lItems[lItemsIterator]);if(lNewRow=lNewRow.replace(/_0000/g,"_"+tabular.pad(tabular.gNumRows+tabular.gNewRows,4)),lNewRow=lNewRow.replace("p_element_index=\" +  escape ('0')","p_element_index=\" +  escape ('"+(tabular.gNumRows+tabular.gNewRows)+"')"),lNewRow=lNewRow.replace(/\$_row/g,tabular.gNumRows+tabular.gNewRows),$(tabular.gTabForm).append(lNewRow),$("#"+tabular.gTabFormRegionID,apex.gPageContext$).contents().find(".nodatafound").hide(),lNewRowDatePicker.length>0)for(lRow=tabular.pad(tabular.gNumRows+tabular.gNewRows,4),i=0;i<lNewRowDatePicker.length;i++)lNewRowDatePicker[i](lRow);lNewRowIndex=tabular.pad(tabular.gNumRows+tabular.gNewRows,4),$(":input[id^=f][id$=_"+lNewRowIndex+"]",apex.gPageContext$).change(function(){$("#fcud_"+lNewRowIndex,apex.gPageContext$).val("C")});for(var lErrorItemIterator=0;lErrorItemsCount>lErrorItemIterator;lErrorItemIterator++)tabular.gErrItems[lErrorItemIterator].length>0&&$("#"+tabular.gErrItems[lErrorItemIterator],apex.gPageContext$).addClass("apex-tabular-form-error");if(pNewRowMap)for(var i=0;i<pNewRowMap.length;i++)lNewRowIdentifier=tabular.pad(tabular.gNumRows+tabular.gNewRows,4),$("#fcud_"+lNewRowIndex,apex.gPageContext$).val("C"),$("#"+pNewRowMap[i]+"_"+lNewRowIdentifier,apex.gPageContext$).val(pNewRowVals[i][tabular.gNewRows-1]),pDispTypeMap[i].indexOf("RADIO")>=0&&$("[name="+pNewRowMap[i]+"_"+lNewRowIdentifier+"_NOSUBMIT]",apex.gPageContext$).each(function(){$(this).val()===pNewRowVals[i][tabular.gNewRows-1]&&$(this).prop("checked",!0)}),pDispTypeMap[i].indexOf("SIMPLE_CHECKBOX")>=0&&$("#"+pNewRowMap[i]+"_"+lNewRowIdentifier+"_01",apex.gPageContext$).each(function(){lItem=$x(pNewRowMap[i]+"_"+lNewRowIdentifier+"_01"),lItem.value===pNewRowVals[i][tabular.gNewRows-1]&&$(this).prop("checked",!0)});for(lItems=$x_FormItems($x(tabular.gTabFormReportID)),lItemsCount=lItems.length,lItemsIterator=0;lItemsCount>lItemsIterator;lItemsIterator++)tabular.gTabFormData[lItemsIterator]="X01"!==lItems[lItemsIterator].name?lItems[lItemsIterator].value:"0"}}(apex.widget.tabular,apex.widget.report,apex.jQuery),apex.widget.report.tabular=apex.widget.tabular;