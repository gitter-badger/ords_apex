apex.server={},apex.jQuery.ajaxSettings.traditional=!0,apex.jQuery.ajaxPrefilter("script",function(options){options.cache=!0}),function(server,$,util,undefined){"use strict";function addToQueue(pQueueName,pAction,pRequest,pData,pOptions){function getQueue(name){var queue=queues[name];return queue||(queue=queues[name]=[]),queue}function sendNext(name){var item,jqXHR,queue=getQueue(name);queue.length>=1&&(item=queue[0],jqXHR=item.jqXHR=_call(item.request,item.data,item.options),jqXHR.then(function(){queue.shift(),sendNext(name)},function(){var i,item;for(i=1;i<queue.length;i++)item=queue[i],item.error&&item.error({status:0},"abort",null),item.complete&&item.complete({status:0},"abort");queue.length=0}))}function findInQueue(pQueue,pName){var i;for(i=0;i<pQueue.length;i++)if(pQueue[i].name===pName)return pQueue[i];return null}var queue,delta,config,currentItem;if("lazyWrite"===pAction){if(config=findInQueue(lazyWriteQueue,pQueueName))return config.request=pRequest,config.data=pData,void(config.options=pOptions);if(lazyWriteQueue.push({name:pQueueName,request:pRequest,data:pData,options:pOptions}),lastWriteTimerId)return;null===lastWriteTime?delta=10:(delta=lastWriteTime+MIN_LAZY_WRITE_FREQ-(new Date).getTime(),delta=0>delta?10:delta),lastWriteTimerId=setTimeout(function(){var item;for(lastWriteTimerId=null,lastWriteTime=(new Date).getTime();lazyWriteQueue.length>0;)item=lazyWriteQueue.shift(),_call(item.request,item.data,item.options)},delta)}else queue=getQueue(pQueueName),"replace"===pAction&&queue.length>=1&&(currentItem=queue.shift(),queue.length=0,currentItem.jqXHR&&currentItem.jqXHR.abort()),queue.push({request:pRequest,data:pData,options:pOptions}),1===queue.length&&sendNext(pQueueName)}function callOrQueue(pRequest,pData,pOptions){var lQName,lAction;return pOptions.queue?(lQName=pOptions.queue.name,lAction=pOptions.queue.action,delete pOptions.queue,addToQueue(lQName,lAction,pRequest,pData,pOptions),null):_call(pRequest,pData,pOptions)}function _call(pRequest,pData,pOptions){var i,lItem,lIdx,lParameterName,lValue,lLoadingIndicator$,C_MAX_SAFE_LEN=8e3,lProgressScopeName=null,lOptions=$.extend({dataType:"json",type:"post",async:!0,url:"wwv_flow.show",traditional:!0,loadingIndicatorPosition:"after"},pOptions),lSuccessCallback=lOptions.success,lErrorCallback=lOptions.error,lData=$.extend({p_request:pRequest,p_flow_id:$v("pFlowId"),p_flow_step_id:$v("pFlowStepId"),p_instance:$v("pInstance"),p_debug:$v("pdebug"),p_arg_names:[],p_arg_values:[]},pData),lLoadingIndicatorTmpl$=$('<span class="u-Processing u-Processing--inline"><span class="u-Processing-spinner"></span></span>'),lLoadingIndicators$=$(),lLoadingIndicatorPosition=lOptions.loadingIndicatorPosition;if($.isArray(lData.pageItems))for(i=0;i<lData.pageItems.length;i++)lItem=$x(lData.pageItems[i]),lItem&&(lIdx=lData.p_arg_names.length,lData.p_arg_names[lIdx]=lItem.id,lData.p_arg_values[lIdx]=$v(lItem));else $(lData.pageItems,apex.gPageContext$).each(function(){var lIdx=lData.p_arg_names.length;lData.p_arg_names[lIdx]=this.id,lData.p_arg_values[lIdx]=$v(this)});for(delete lData.pageItems,i=1;20>=i;i++)if(lParameterName="f"+(10>i?"0"+i:i),lData.hasOwnProperty(lParameterName)&&!$.isArray(lData[lParameterName])&&(lValue=lData[lParameterName]+"",lValue.length>C_MAX_SAFE_LEN)){for(lData[lParameterName]=[];lValue.length>C_MAX_SAFE_LEN;)lData[lParameterName].push(lValue.substr(0,C_MAX_SAFE_LEN)),lValue=lValue.substr(C_MAX_SAFE_LEN);lData[lParameterName].push(lValue)}return apex.event.trigger(lOptions.refreshObject,"apexbeforerefresh",lOptions.refreshObjectData)?!1:($.isFunction(lOptions.clear)&&lOptions.clear(),delete lOptions.loadingIndicatorPosition,(lOptions.loadingIndicator||"page"===lLoadingIndicatorPosition)&&(progressScopeNameIndex+=1,lProgressScopeName="_call"+progressScopeNameIndex,util.delayLinger.start(lProgressScopeName,function(){"page"===lLoadingIndicatorPosition?(lLoadingIndicator$=util.showSpinner(),lLoadingIndicators$=lLoadingIndicators$.add(lLoadingIndicator$)):$.isFunction(lOptions.loadingIndicator)?lLoadingIndicators$=lOptions.loadingIndicator(lLoadingIndicatorTmpl$):$(lOptions.loadingIndicator).each(function(){lLoadingIndicator$=lLoadingIndicatorTmpl$.clone(),apex.item(this).callbacks.loadingIndicator!==undefined?lLoadingIndicator$=apex.item(this).loadingIndicator(lLoadingIndicator$):"before"===lLoadingIndicatorPosition?lLoadingIndicator$=lLoadingIndicator$.insertBefore($(this,apex.gPageContext$).filter(":not(:hidden)")):"after"===lLoadingIndicatorPosition?lLoadingIndicator$=lLoadingIndicator$.insertAfter($(this,apex.gPageContext$).filter(":not(:hidden)")):"prepend"===lLoadingIndicatorPosition?lLoadingIndicator$=lLoadingIndicator$.prependTo($(this,apex.gPageContext$)):"append"===lLoadingIndicatorPosition?lLoadingIndicator$=lLoadingIndicator$.appendTo($(this,apex.gPageContext$)):"centered"===lLoadingIndicatorPosition&&(lLoadingIndicator$=util.showSpinner($(this,apex.gPageContext$))),lLoadingIndicators$=lLoadingIndicators$.add(lLoadingIndicator$)})})),lOptions.data=lData,lOptions.error=function(pjqXHR,pTextStatus,pErrorThrown){_error(pjqXHR,pTextStatus,pErrorThrown,{callback:lErrorCallback,loadingIndicator:lLoadingIndicators$,progressScopeName:lProgressScopeName})},lOptions.success=function(pData,pTextStatus,pjqXHR){_success(pData,pTextStatus,pjqXHR,{callback:lSuccessCallback,errorCallback:lOptions.error,loadingIndicator:lLoadingIndicators$,progressScopeName:lProgressScopeName,refreshObject:lOptions.refreshObject})},$.ajax(lOptions))}function _removeLoadingIndicator(pLoadingIndicator,pProgressScopeName){function cleanup(){$.isFunction(pLoadingIndicator)?pLoadingIndicator():$(pLoadingIndicator,apex.gPageContext$).remove()}pProgressScopeName?util.delayLinger.finish(pProgressScopeName,function(){cleanup()}):cleanup()}function _success(pData,pTextStatus,pjqXHR,pOptions){var lResult=!0,lErrorHeader=pjqXHR.getResponseHeader("X-APEX-ERROR");if(pData){if(pData.error)return pOptions.errorCallback(pjqXHR,"APEX",pData.error);if(lErrorHeader)return pOptions.errorCallback(pjqXHR,"APEX",lErrorHeader)}return _removeLoadingIndicator(pOptions.loadingIndicator,pOptions.progressScopeName),$.isFunction(pOptions.callback)&&(lResult=pOptions.callback(pData,pTextStatus,pjqXHR)),(lResult||lResult==undefined)&&apex.event.trigger(pOptions.refreshObject,"apexafterrefresh",pOptions.refreshObjectData)?!1:lResult}function _error(pjqXHR,pTextStatus,pErrorThrown,pOptions){var lMsg,lResult=!1;return _removeLoadingIndicator(pOptions.loadingIndicator,pOptions.progressScopeName),$.isFunction(pOptions.callback)?lResult=pOptions.callback(pjqXHR,pTextStatus,pErrorThrown):0!==pjqXHR.status&&(lMsg="APEX"===pTextStatus?pErrorThrown:"Error: "+pTextStatus+" - "+pErrorThrown,$.isFunction(window.onerror)?window.onerror(lMsg,null,null):window.alert(lMsg)),lResult}server.plugin=function(pAjaxIdentifier,pData,pOptions){return callOrQueue("PLUGIN="+pAjaxIdentifier,pData,pOptions)},server.pluginUrl=function(pAjaxIdentifier,pData){return server.url($.extend({},pData,{p_request:"PLUGIN="+pAjaxIdentifier}))},server.url=function(pData){var lUrl="wwv_flow.show?p_flow_id="+$v("pFlowId")+"&p_flow_step_id="+$v("pFlowStepId")+"&p_instance="+$v("pInstance")+"&p_debug="+$v("pdebug");for(var lKey in pData)if(pData.hasOwnProperty(lKey))if("pageItems"===lKey)if($.isArray(pData.pageItems))for(var lItem,i=0;i<pData.pageItems.length;i++)lItem=$x(pData.pageItems[i]),lItem&&(lUrl=lUrl+"&p_arg_names="+encodeURIComponent(lItem.id)+"&p_arg_values="+encodeURIComponent($v(lItem)));else $(pData.pageItems,apex.gPageContext$).each(function(){lUrl=lUrl+"&p_arg_names="+encodeURIComponent(this.id)+"&p_arg_values="+encodeURIComponent($v(this))});else lUrl=lUrl+"&"+lKey+"="+encodeURIComponent(pData[lKey]);return lUrl},server.process=function(pName,pData,pOptions){return _call("APPLICATION_PROCESS="+pName,pData,pOptions)},server.widget=function(pName,pData,pOptions){var lData=pData||{};return lData.p_widget_name=pName,_call("APXWGT",lData,pOptions)};var MIN_LAZY_WRITE_FREQ=5e3,lastWriteTimerId=null,lastWriteTime=null,lazyWriteQueue=[],queues={},progressScopeNameIndex=0}(apex.server,apex.jQuery,apex.util);