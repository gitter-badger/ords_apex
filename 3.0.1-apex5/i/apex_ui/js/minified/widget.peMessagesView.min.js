!function(a,b,c){"use strict";var d="messages_",e={ERROR:"error",WARNING:"warning"},f={ERROR:"icon-remove-sign",WARNING:"icon-warning-sign"};b.widget("apex.peMessagesView",{options:{},_create:function(){var c,e=this;this.element.empty(),c=b("<div>",{"class":"a-AlertMessages"}).appendTo(this.element),this._container$=b("<ul></ul>",{"class":"a-AlertMessages-list"}).appendTo(c).on("click","a",this._goToComponent),b(document).on("modelReady",function(){a.observer(d+this.uuid,{events:[a.EVENT.ERRORS,a.EVENT.NO_ERRORS,a.EVENT.WARNINGS,a.EVENT.NO_WARNINGS,a.EVENT.DELETE,a.EVENT.REMOVE_PROP]},function(a){e._update(a)}),b(document).one("modelCleared",function(){e._container$.empty(),b.isFunction(e.options.badge)?e.options.badge(""):b(e.options.badge).text("")})})},_init:function(){},_destroy:function(){this.element.empty(),b(document).off("modelReady"),b(document).off("modelCleared"),a.unobserver(d+this.uuid)},_update:function(d){function g(b,d,e,f,g){for(var h='<li class="a-AlertMessages-item" data-typeid="#TYPEID#" data-componentid="#COMPONENTID#" data-propertyid="#PROPERTYID#">  <a href="#" class="a-MediaBlock a-AlertMessages-message is-#CSS_CLASS#">    <div class="a-MediaBlock-graphic">      <span class="a-FAIcon a-FAIcon--medium a-FAIcon--#CSS_CLASS# #ICON_CLASS#"></span>    </div>    <div class="a-MediaBlock-content">      <h5 class="a-AlertMessages-propertyTitle">#COMPONENT_TYPE# &rarr; #COMPONENT# &rarr; #DISPLAY_GROUP# &rarr; #PROPERTY#</h5>      <p class="a-AlertMessages-messageDescription">#MESSAGE#</p>    </div>  </a></li>',i="",j=0;j<e.length;j++)i+=h.replace(/#CSS_CLASS#/g,f).replace(/#ICON_CLASS#/g,g).replace("#TYPEID#",b.typeId).replace("#COMPONENTID#",b.id).replace("#PROPERTYID#",d.id).replace("#COMPONENT_TYPE#",c.escapeHTML(a.getComponentType(b.typeId).title.singular)).replace("#COMPONENT#",c.escapeHTML(b.getDisplayTitle())).replace("#DISPLAY_GROUP#",c.escapeHTML(a.getDisplayGroup(d.getMetaData().displayGroupId).title)).replace("#PROPERTY#",c.escapeHTML(d.getMetaData().prompt)).replace("#MESSAGE#",e[j]);this._container$.append(i)}var h,i,j=d.component,k="li[data-typeid='"+j.typeId+"'][data-componentid='"+j.id+"']",l=this.options.badge;if(b.inArray(a.EVENT.DELETE,d.events)>=0)this._container$.find(k).remove();else for(var m in d.properties)d.properties.hasOwnProperty(m)&&(this._container$.find(k+"[data-propertyid='"+m+"']").remove(),-1===b.inArray(a.EVENT.REMOVE_PROP,d.properties[m])&&(h=j.getProperty(m),g.call(this,j,h,h.errors,e.ERROR,f.ERROR),g.call(this,j,h,h.warnings,e.WARNING,f.WARNING)));i=this._container$.find("li").length,b.isFunction(l)?l(i):b(l).text(i>0?i:"")},_goToComponent:function(){var c=b(this).closest("li"),d=a.getComponents(c.data("typeid"),{id:c.data("componentid")})[0];window.pageDesigner.goToComponent(d.typeId,d.id,c.data("propertyid"))}})}(pe,apex.jQuery,apex.util);